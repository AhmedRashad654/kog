{"version":3,"file":"static/js/663.ab3c27ef.chunk.js","mappings":"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","sources":["webpack://ju/./src/componantStyle/EnglishAndArabic.module.css?aa05","componant/EnglishAndArabic.jsx","componant/Register.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"EnglishAndArabic\":\"EnglishAndArabic_EnglishAndArabic__BSBaP\",\"activedir\":\"EnglishAndArabic_activedir__rOPYk\"};","import React  from 'react'\r\nimport { useUser } from '../context/Context'\r\nimport style from '../componantStyle/EnglishAndArabic.module.css';\r\nexport default function EnglishAndArabic() {\r\n    const { english, arabic, direction } = useUser();\r\n  return (\r\n    <div className={style.EnglishAndArabic}>\r\n      <span\r\n        onClick={() => english()}\r\n        className={direction === \"EN\" ? style.activedir : \"\"}\r\n      >\r\n        EN\r\n      </span>\r\n      <span\r\n        onClick={() => arabic()}\r\n        className={direction === \"AR\" ? style.activedir : \"\"}\r\n      >\r\n        AR\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"../componantStyle/register.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Joi from \"joi\";\r\nimport EnglishAndArabic from \"./EnglishAndArabic\";\r\nimport { useUser } from \"../context/Context\";\r\n\r\nexport default function Register() {\r\n  const navigate = useNavigate();\r\n  const [user, setUser] = useState({ gender: \"N\", role: \"user\" });\r\n  const [errorList, setErrorList] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [ error, setError ] = useState( null );\r\n  const { direction } = useUser();\r\n  function handlechange(e) {\r\n    setUser((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  }\r\n  function validationRegister() {\r\n    let schema = Joi.object({\r\n      full_name: Joi.string().max(240).required(),\r\n      email_address: Joi.string()\r\n        .email({ tlds: [\"com\", \"not\", \"org\"] })\r\n        .max(240)\r\n        .required(),\r\n      city: Joi.string().max(240).required(),\r\n      mobile: Joi.string()\r\n        .length(11)\r\n        .pattern(/^[0-9]+$/)\r\n        .required(),\r\n      whatsapp: Joi.string()\r\n        .length(11)\r\n        .pattern(/^[0-9]+$/)\r\n        .required(),\r\n      password: Joi.string().min(6).required(),\r\n      password2: Joi.string().min(6).valid(Joi.ref(\"password\")).required(),\r\n      gender: Joi.string().valid(\"M\", \"F\", \"N\"),\r\n      role: Joi.string().required(),\r\n    });\r\n    return schema.validate(user, { abortEarly: false });\r\n  }\r\n\r\n  async function formatSubmit(e) {\r\n    e.preventDefault();\r\n    let responseValidateRegister = validationRegister();\r\n    if (responseValidateRegister.error) {\r\n      setErrorList([responseValidateRegister.error.details]);\r\n    } else {\r\n      setErrorList(null);\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(\r\n          \"https://kog.pythonanywhere.com/api/v1/accounts/register/\",\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(user),\r\n          }\r\n        );\r\n        const result = await response.json();\r\n        setLoading(false);\r\n        if (result.tokens) {\r\n          navigate(\"/login\");\r\n        } else {\r\n          setError(result);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n \r\n\r\n  return (\r\n    <>\r\n      <EnglishAndArabic />\r\n      <form className=\"formRegister\" onSubmit={formatSubmit}>\r\n        {errorList &&\r\n          errorList.map((error, index) => (\r\n            <p key={index} className=\"alert alert-warning\">\r\n              {error[index].message}\r\n            </p>\r\n          ))}\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"full_name\">\r\n            {direction === \"EN\" ? \"full_name\" : \"الاسم بالكامل\"}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            name=\"full_name\"\r\n            id=\"name\"\r\n            onChange={handlechange}\r\n          />\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"email_address\">\r\n            {direction === \"EN\" ? \"email_address\" : \"الايميل\"}\r\n          </label>\r\n          <br />\r\n          <input type=\"email\" name=\"email_address\" onChange={handlechange} />\r\n          {error?.email_address && (\r\n            <p className=\"error\">{error?.email_address}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"city\">\r\n            {direction === \"EN\" ? \"city\" : \"المدينة\"}\r\n          </label>\r\n          <br />\r\n          <input type=\"city\" name=\"city\" onChange={handlechange} />\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"mobile\">\r\n            {direction === \"EN\" ? \"mobile\" : \"رقم الهاتف\"}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"number\"\r\n            name=\"mobile\"\r\n            id=\"mobile\"\r\n            onChange={handlechange}\r\n          />\r\n          {error?.mobile && <p className=\"error\">{error?.mobile}</p>}\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"whatsapp\">\r\n            {direction === \"EN\" ? \"whatsapp\" : \"رقم الواتساب\"}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"number\"\r\n            name=\"whatsapp\"\r\n            id=\"whatsapp\"\r\n            onChange={handlechange}\r\n          />\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"password\">\r\n            {direction === \"EN\" ? \"password\" : \"كلمة المرور\"}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            onChange={handlechange}\r\n          />\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"password2\">\r\n            {direction === \"EN\" ? \"Confirm Password\" : \"تاكيد كلمة المرور\"}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password2\"\r\n            id=\"password2\"\r\n            onChange={handlechange}\r\n          />\r\n        </div>\r\n        <div className=\"inp\">\r\n          <label htmlFor=\"gender\">\r\n            {direction === \"EN\" ? \"gender\" : \"النوع\"}\r\n          </label>\r\n          <br />\r\n          <select name=\"gender\" id=\"gender\" onChange={handlechange}>\r\n            <option value=\"N\">N</option>\r\n            <option value=\"M\">M</option>\r\n            <option value=\"F\">F</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"inp\">\r\n          <button className=\"btn btn-secondary\">\r\n            {loading ? (\r\n              <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n              </div>\r\n            ) : (\r\n              <> {direction === \"EN\" ? \"register\" : \"تسجيل\"}</>\r\n            )}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n"],"names":["EnglishAndArabic","english","arabic","direction","useUser","_jsxs","className","style","children","_jsx","onClick","activedir","Register","navigate","useNavigate","user","setUser","useState","gender","role","errorList","setErrorList","loading","setLoading","error","setError","handlechange","e","prevState","target","name","value","_Fragment","onSubmit","async","preventDefault","responseValidateRegister","Joi","full_name","max","required","email_address","email","tlds","city","mobile","length","pattern","whatsapp","password","min","password2","valid","validate","abortEarly","details","response","fetch","method","headers","body","JSON","stringify","result","json","tokens","console","map","index","message","htmlFor","type","id","onChange"],"sourceRoot":""}