"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[958],{6958:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var n=s(5043);const a={TextQuestions:"AddChoice_TextQuestions__RIg-y",headForm:"AddChoice_headForm__bCUZt",submitQuestions:"AddChoice_submitQuestions__7Eg3r"};var r=s(9513),o=s(1694),i=s.n(o),c=s(3216),d=s(579);function l(){const{direction:e,noquestion:t}=(0,r.J)(),[s,o]=(0,n.useState)({body:"body",question:t}),[l,u]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1),[m,y]=(0,n.useState)(null),[p,j]=(0,n.useState)(null),x=(0,c.Zp)();function _(e){o((t=>({...t,[e.target.name]:e.target.value})))}return(0,d.jsxs)("form",{className:a.TextQuestions,children:[l&&l.map(((e,t)=>(0,d.jsx)("p",{className:"alert alert-warning",children:e[t].message},t))),p&&(0,d.jsx)("p",{className:"alert alert-success",children:"EN"===e?"Success Added":"\u062a\u0645 \u0627\u0644\u0627\u0636\u0627\u0641\u0629 \u0628\u0646\u062c\u0627\u062d"}),(0,d.jsxs)("div",{className:a.headForm,children:[(0,d.jsx)("button",{className:"btn btn-secondary",onClick:async function(e){e.preventDefault();let t=i().object({body:i().string().required(),body_en:i().string().required(),body_ar:i().string().required(),question:i().number().required()}).validate(s,{abortEarly:!1});if(t.error)u([t.error.details]);else{u(null);try{j(!1),b(!0);const e=await fetch("https://kog.pythonanywhere.com/api/v1/home/choices/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:JSON.stringify(s)}),t=await e.json();b(!1),t.created_at?j(!0):y(t)}catch(n){console.error(n)}}},children:h?(0,d.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,d.jsx)("span",{className:"sr-only"})}):(0,d.jsxs)(d.Fragment,{children:["EN"===e?"Add choice":"\u0623\u0636\u0627\u0641\u0629 \u0627\u062e\u062a\u064a\u0627\u0631"," "]})}),(0,d.jsx)("button",{className:"btn btn-secondary",onClick:e=>{e.preventDefault(),x("/dashboard/jops/displayquestionform")},children:"EN"===e?"Back":"\u0631\u062c\u0648\u0639"})]}),(null===m||void 0===m?void 0:m.question)&&(0,d.jsx)("p",{className:"error",children:null===m||void 0===m?void 0:m.question}),(0,d.jsxs)("label",{htmlFor:"body_ar",children:[" ","EN"===e?"Enter choice Arabic":"\u0627\u0643\u062a\u0628 \u0627\u0644\u0627\u062c\u0627\u0628\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"," "]}),(0,d.jsx)("input",{type:"text",name:"body_ar",id:"body_ar",onChange:_}),(0,d.jsxs)("label",{htmlFor:"body_en",children:[" ","EN"===e?"Enter choice English":"\u0627\u0643\u062a\u0628 \u0627\u0644\u0627\u062c\u0627\u0628\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a\u0629"," "]}),(0,d.jsx)("input",{type:"text",name:"body_en",id:"body_en",onChange:_})]})}}}]);
//# sourceMappingURL=958.179a9be4.chunk.js.map