{"version":3,"file":"static/js/445.52f74dce.chunk.js","mappings":"mIACA,SAAgB,YAAc,6BAA6B,KAAO,sBAAsB,YAAc,6BAA6B,IAAM,qBAAqB,KAAO,uB,oDCItJ,SAASA,IACtB,MAAMC,GAAWC,EAAAA,EAAAA,OACTC,EAASC,IAAeC,EAAAA,EAAAA,UAAU,CAAEC,OAAQ,IAAKC,KAAM,UACvDC,EAAoBC,IAA0BJ,EAAAA,EAAAA,UAAU,OACxDK,EAASC,IAAeN,EAAAA,EAAAA,WAAU,IAClCO,EAAgBC,IAAsBR,EAAAA,EAAAA,UAAU,OAClD,UAAES,IAAcC,EAAAA,EAAAA,KACtB,SAASC,EAAaC,GACpBb,GAAYc,IAAI,IACXA,EACH,CAACD,EAAEE,OAAOC,MAAOH,EAAEE,OAAOE,SAE9B,CAwDA,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAMC,YAAYC,UAChCC,EAAAA,EAAAA,MAAA,QAAMJ,UAAWC,EAAMI,KAAKF,SAAA,CACzBlB,GACCA,EAAmBqB,KAAI,CAACC,EAAOC,KAC7BT,EAAAA,EAAAA,KAAA,KAAeC,UAAU,sBAAqBG,SAC3CI,EAAMC,GAAOC,SADRD,MAIZJ,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAMS,YAAYP,SAAA,EAChCJ,EAAAA,EAAAA,KAAA,UAAQC,UAAU,oBAAoBW,QA1C9CC,eAA4BlB,GAC1BA,EAAEmB,iBACF,IAAIC,EAxBWC,IAAAA,OAAW,CACtBC,UAAWD,IAAAA,SAAaE,IAAI,KAAKC,WACjCC,cAAeJ,IAAAA,SACZK,MAAM,CAAEC,KAAM,CAAC,MAAO,MAAO,SAC7BJ,IAAI,KACJC,WACHI,KAAMP,IAAAA,SAAaE,IAAI,KAAKC,WAC5BK,OAAQR,IAAAA,SACLS,OAAO,IACPC,QAAQ,YACRP,WACHQ,SAAUX,IAAAA,SACPS,OAAO,IACPC,QAAQ,YACRP,WACHS,SAAUZ,IAAAA,SAAaa,IAAI,GAAGV,WAC9BW,UAAWd,IAAAA,SAAaa,IAAI,GAAGE,MAAMf,IAAAA,IAAQ,aAAaG,WAC1DnC,OAAQgC,IAAAA,SAAae,MAAM,IAAK,IAAK,KACrC9C,KAAM+B,IAAAA,SAAaG,aAEPa,SAASnD,EAAS,CAAEoD,YAAY,IAKhD,GAAIlB,EAAyBP,MAC3BrB,EAAsB,CAAC4B,EAAyBP,MAAM0B,cACjD,CACL/C,EAAsB,MACtB,IACEE,GAAW,GACX,MAAM8C,QAAiBC,MACrB,2DACA,CACEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU5D,KAGnB6D,QAAeP,EAASQ,OAC9BtD,GAAW,GACNqD,EAAOE,OAEVjE,EAAS,mBAETY,EAAkBmD,EAEtB,CAAE,MAAOlC,GACPqC,QAAQrC,MAAMA,EAChB,CACF,CACF,EAWoEJ,SACzDhB,GACCY,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAAgChB,KAAK,SAAQmB,UAC1DJ,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAGlB,oCAGJD,EAAAA,EAAAA,KAAA,UACEC,UAAU,kBACVW,QAASA,KACPjC,EAAS,kBAAkB,EAC3ByB,SACH,iCAIHC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM4C,YAAY1C,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBC,EAAAA,EAAAA,MAAA,SAAO2C,QAAQ,YAAW5C,SAAA,CACvB,IACc,OAAdZ,EAAqB,YAAc,qCAEtCQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEiD,KAAK,OACLnD,KAAK,YACLoD,GAAG,OACHC,SAAUzD,QAGdW,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBJ,EAAAA,EAAAA,KAAA,SAAOgD,QAAQ,gBAAe5C,SACb,OAAdZ,EAAqB,gBAAkB,gDAE1CQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SAAOiD,KAAK,QAAQnD,KAAK,gBAAgBqD,SAAUzD,KACpC,OAAdJ,QAAc,IAAdA,OAAc,EAAdA,EAAgB8B,iBACfpB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,QAAOG,SAAgB,OAAdd,QAAc,IAAdA,OAAc,EAAdA,EAAgB8B,uBAI5Cf,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM4C,YAAY1C,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBJ,EAAAA,EAAAA,KAAA,SAAOgD,QAAQ,OAAM5C,SACJ,OAAdZ,EAAqB,OAAS,gDAEjCQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SAAOiD,KAAK,OAAOnD,KAAK,OAAOqD,SAAUzD,QAE3CW,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBC,EAAAA,EAAAA,MAAA,SAAO2C,QAAQ,SAAQ5C,SAAA,CACpB,IACc,OAAdZ,EAAqB,eAAiB,8DAEzCQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEiD,KAAK,SACLnD,KAAK,SACLoD,GAAG,SACHC,SAAUzD,KAEG,OAAdJ,QAAc,IAAdA,OAAc,EAAdA,EAAgBkC,UACfxB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,QAAOG,SAAgB,OAAdd,QAAc,IAAdA,OAAc,EAAdA,EAAgBkC,gBAI5CnB,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM4C,YAAY1C,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBJ,EAAAA,EAAAA,KAAA,SAAOgD,QAAQ,gBAAU5C,SACR,OAAdZ,EAAqB,WAAa,0CAErCQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEiD,KAAK,SACLnD,KAAK,WACLoD,GAAG,WACHC,SAAUzD,QAGdW,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBJ,EAAAA,EAAAA,KAAA,SAAOgD,QAAQ,SAAQ5C,SACN,OAAdZ,EAAqB,SAAW,oCAEnCQ,EAAAA,EAAAA,KAAA,UACAK,EAAAA,EAAAA,MAAA,UAAQP,KAAK,SAASoD,GAAG,SAASC,SAAUzD,EAAaU,SAAA,EACvDJ,EAAAA,EAAAA,KAAA,UAAQD,MAAM,IAAGK,SAAC,OAClBJ,EAAAA,EAAAA,KAAA,UAAQD,MAAM,IAAGK,SAAC,OAClBJ,EAAAA,EAAAA,KAAA,UAAQD,MAAM,IAAGK,SAAC,gBAIxBC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM4C,YAAY1C,SAAA,EAChCC,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBJ,EAAAA,EAAAA,KAAA,SAAOgD,QAAQ,OAAM5C,SACJ,OAAdZ,EAAqB,OAAS,oCAEjCQ,EAAAA,EAAAA,KAAA,UACAK,EAAAA,EAAAA,MAAA,UACEP,KAAK,OACLoD,GAAG,OACHjD,UAAWC,EAAMjB,KACjBkE,SAAUzD,EAAaU,SAAA,EAEvBJ,EAAAA,EAAAA,KAAA,UAAQD,MAAM,OAAMK,SACH,OAAdZ,EAAqB,OAAS,0CAEjCQ,EAAAA,EAAAA,KAAA,UAAQD,MAAM,QAAOK,SACJ,OAAdZ,EAAqB,QAAU,oCAItCa,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBC,EAAAA,EAAAA,MAAA,SAAO2C,QAAQ,WAAU5C,SAAA,CAAC,KAAe,OAAZZ,EAAiB,WAAW,oEACzDQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEiD,KAAK,WACLnD,KAAK,WACLoD,GAAG,WACHC,SAAUzD,WAIhBW,EAAAA,EAAAA,MAAA,OAAKJ,UAAWC,EAAM6C,IAAI3C,SAAA,EACxBC,EAAAA,EAAAA,MAAA,SAAO2C,QAAQ,WAAU5C,SAAA,CAAC,IAAc,OAAZZ,EAAiB,mBAAmB,+FAAoB,SACpFQ,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEiD,KAAK,WACLnD,KAAK,YACLoD,GAAG,YACHC,SAAUzD,WAMtB,C","sources":["webpack://ju/./src/componantStyle/AddUser.module.css?cdcb","pages/Dashboard/UserAdd.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"collAddUser\":\"AddUser_collAddUser__Z0f47\",\"form\":\"AddUser_form__SmN5s\",\"headAddUser\":\"AddUser_headAddUser__rTy63\",\"inp\":\"AddUser_inp__SnX2A\",\"role\":\"AddUser_role__IFpky\"};","import React, { useState } from \"react\";\r\nimport style from \"../../componantStyle/AddUser.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Joi from \"joi\";\r\nimport { useUser } from \"../../context/Context\";\r\nexport default function UserAdd() {\r\n  const navigate = useNavigate();\r\n  const [ addUser, setAddUser ] = useState( { gender: \"N\", role: \"user\" } );\r\n  const [ errorListDashboard, setErrorListDashboard ] = useState( null )\r\n  const [ loading, setLoading ] = useState( false );\r\n  const [ errorDashboard, setErrorDashboard ] = useState( null );\r\n  const { direction } = useUser();\r\n  function handleChange(e) {\r\n    setAddUser((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  }\r\n    function validationRegisterDashboard() {\r\n      let schema = Joi.object({\r\n        full_name: Joi.string().max(240).required(),\r\n        email_address: Joi.string()\r\n          .email({ tlds: [\"com\", \"not\", \"org\"] })\r\n          .max(240)\r\n          .required(),\r\n        city: Joi.string().max(240).required(),\r\n        mobile: Joi.string()\r\n          .length(11)\r\n          .pattern(/^[0-9]+$/)\r\n          .required(),\r\n        whatsapp: Joi.string()\r\n          .length(11)\r\n          .pattern(/^[0-9]+$/)\r\n          .required(),\r\n        password: Joi.string().min(6).required(),\r\n        password2: Joi.string().min(6).valid(Joi.ref(\"password\")).required(),\r\n        gender: Joi.string().valid(\"M\", \"F\", \"N\"),\r\n        role: Joi.string().required(),\r\n      });\r\n      return schema.validate(addUser, { abortEarly: false });\r\n    }\r\n  async function handlesubmit(e) {\r\n    e.preventDefault();\r\n    let responseValidateRegister = validationRegisterDashboard();\r\n    if (responseValidateRegister.error) {\r\n      setErrorListDashboard([responseValidateRegister.error.details]);\r\n    } else {\r\n      setErrorListDashboard(null);\r\n      try {\r\n        setLoading(true);\r\n        const response = await fetch(\r\n          \"https://kog.pythonanywhere.com/api/v1/accounts/register/\",\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(addUser),\r\n          }\r\n        );\r\n        const result = await response.json();\r\n        setLoading(false);\r\n        if ( result.tokens ) {\r\n          //  getAllUserDashboard();\r\n          navigate(\"/dashboard/user\");\r\n        } else {\r\n          setErrorDashboard(result);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div className={style.collAddUser}>\r\n      <form className={style.form}>\r\n        {errorListDashboard &&\r\n          errorListDashboard.map((error, index) => (\r\n            <p key={index} className=\"alert alert-warning\">\r\n              {error[index].message}\r\n            </p>\r\n          ))}\r\n        <div className={style.headAddUser}>\r\n          <button className=\"btn btn-secondary\" onClick={handlesubmit}>\r\n            {loading ? (\r\n              <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n              </div>\r\n            ) : (\r\n              \"اضافة\"\r\n            )}\r\n          </button>\r\n          <button\r\n            className=\"btn btn-success\"\r\n            onClick={() => {\r\n              navigate(\"/dashboard/user\");\r\n            }}\r\n          >\r\n            رجوع\r\n          </button>\r\n        </div>\r\n        <div className={style.colladduser}>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"full_name\">\r\n              {\" \"}\r\n              {direction === \"EN\" ? \"full_name\" : \"الاسم\"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"full_name\"\r\n              id=\"name\"\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"email_address\">\r\n              {direction === \"EN\" ? \"email_address\" : \"الايميل\"}\r\n            </label>\r\n            <br />\r\n            <input type=\"email\" name=\"email_address\" onChange={handleChange} />\r\n            {errorDashboard?.email_address && (\r\n              <p className=\"error\">{errorDashboard?.email_address}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={style.colladduser}>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"city\">\r\n              {direction === \"EN\" ? \"city\" : \"المدينة\"}\r\n            </label>\r\n            <br />\r\n            <input type=\"city\" name=\"city\" onChange={handleChange} />\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"mobile\">\r\n              {\" \"}\r\n              {direction === \"EN\" ? \"phone_number\" : \"رقم الهاتف\"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"number\"\r\n              name=\"mobile\"\r\n              id=\"mobile\"\r\n              onChange={handleChange}\r\n            />\r\n            {errorDashboard?.mobile && (\r\n              <p className=\"error\">{errorDashboard?.mobile}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className={style.colladduser}>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"whatsشpp\">\r\n              {direction === \"EN\" ? \"whatsApp\" : \"واتساب\"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"number\"\r\n              name=\"whatsapp\"\r\n              id=\"whatsapp\"\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"gender\">\r\n              {direction === \"EN\" ? \"gender\" : \"النوع\"}\r\n            </label>\r\n            <br />\r\n            <select name=\"gender\" id=\"gender\" onChange={handleChange}>\r\n              <option value=\"N\">N</option>\r\n              <option value=\"F\">F</option>\r\n              <option value=\"M\">M</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className={style.colladduser}>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"role\">\r\n              {direction === \"EN\" ? \"role\" : \"الدور\"}\r\n            </label>\r\n            <br />\r\n            <select\r\n              name=\"role\"\r\n              id=\"role\"\r\n              className={style.role}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"user\">\r\n                {direction === \"EN\" ? \"user\" : \"مستخدم\"}\r\n              </option>\r\n              <option value=\"admin\">\r\n                {direction === \"EN\" ? \"admin\" : \"ادمن\"}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"password\">  {direction===\"EN\"?\"password\":\"كلمة المرور\" }</label>\r\n            <br />\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              id=\"password\"\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className={style.inp}>\r\n          <label htmlFor=\"password\"> {direction===\"EN\"?\"confirm password\":\"تاكيد كلمة المرور\"}  </label>\r\n          <br />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password2\"\r\n            id=\"password2\"\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["UserAdd","navigate","useNavigate","addUser","setAddUser","useState","gender","role","errorListDashboard","setErrorListDashboard","loading","setLoading","errorDashboard","setErrorDashboard","direction","useUser","handleChange","e","prev","target","name","value","_jsx","className","style","collAddUser","children","_jsxs","form","map","error","index","message","headAddUser","onClick","async","preventDefault","responseValidateRegister","Joi","full_name","max","required","email_address","email","tlds","city","mobile","length","pattern","whatsapp","password","min","password2","valid","validate","abortEarly","details","response","fetch","method","headers","body","JSON","stringify","result","json","tokens","console","colladduser","inp","htmlFor","type","id","onChange"],"sourceRoot":""}