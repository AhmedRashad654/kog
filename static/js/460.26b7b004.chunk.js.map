{"version":3,"file":"static/js/460.26b7b004.chunk.js","mappings":"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","sources":["webpack://ju/./src/componantStyle/AddAdvertisements.module.css?86fc","pages/Dashboard/AddAdvertisements.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"AddAdvir\":\"AddAdvertisements_AddAdvir__kj+c5\",\"headAddAdvir\":\"AddAdvertisements_headAddAdvir__01s3m\",\"inp\":\"AddAdvertisements_inp__i-MyE\"};","import React, { useState } from 'react'\r\nimport style from '../../componantStyle/AddAdvertisements.module.css';\r\nimport { useUser } from '../../context/Context';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Joi from 'joi';\r\nexport default function AddAdvertisements() {\r\n  const { direction } = useUser();\r\n    const navigate = useNavigate();\r\n    const [ addAdver, setAddAdver ] = useState({text:\"text\"});\r\n    const [ errorListSlider, setErrorListSlider ] = useState( null );\r\n  ////////////function handleChange///////////////\r\n  function handleChange(e) {\r\n    setAddAdver((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n    }\r\n  /////////handle image////////////////\r\n  const [imageChange, setImageChange] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorBackAdvir, setErrorBackAdvir] = useState(null);\r\n  function handleChangeImage(e) {\r\n    setImageChange(e.target.files[0]);\r\n    }\r\n    ////////////valid Joi///////////////\r\n       function validationSliderDashboard() {\r\n         let schema = Joi.object({\r\n             text: Joi.string().required(),\r\n             text_ar: Joi.string().allow(\"\"),\r\n             text_en: Joi.string().allow(\"\"),\r\n             link: Joi.string().required(),\r\n             valid_from: Joi.date().required(),\r\n             valid_to: Joi.date().required(),\r\n         });\r\n         return schema.validate(addAdver, { abortEarly: false });\r\n    }\r\n    /////////////////function submit ///////////////////\r\n      async function handleSubmit(e) {\r\n        e.preventDefault();\r\n        let responseValidateSlider = validationSliderDashboard();\r\n        if (responseValidateSlider.error) {\r\n          setErrorListSlider([responseValidateSlider.error.details]);\r\n        } else {\r\n          setErrorListSlider(null);\r\n          const formData = new FormData();\r\n          formData.append(\"text\", addAdver.text);\r\n          formData.append(\"text_en\", addAdver.text_en); \r\n            formData.append( \"text_ar\", addAdver.text_ar );\r\n            formData.append( \"link\", addAdver.link );\r\n            formData.append(\"valid_from\", addAdver.valid_from);\r\n             formData.append(\"valid_to\", addAdver.valid_to);\r\n            formData.append(\"image\", imageChange);\r\n          try {\r\n            setLoading(true);\r\n            const response = await fetch(\r\n              \"https://kog.pythonanywhere.com/api/v1/home/sliders/\",\r\n              {\r\n                method: \"POST\",\r\n                headers: {\r\n                  Authorization: `Bearer ${localStorage.getItem(\r\n                    \"token_access\"\r\n                  )}`,\r\n                },\r\n                body: formData,\r\n              }\r\n            );\r\n            const result = await response.json();\r\n            console.log(result);\r\n            setLoading(false);\r\n\r\n            if (result.created_at) {\r\n              navigate(\"/dashboard/advertisements\");\r\n            } else {\r\n              setErrorBackAdvir(result);\r\n            }\r\n          } catch (error) {\r\n            console.error(error);\r\n          }\r\n        }\r\n      }\r\n  return (\r\n    <div className={style.AddAdvir}>\r\n      <form className={style.form}>\r\n        {errorListSlider &&\r\n          errorListSlider.map((error, index) => (\r\n            <p key={index} className=\"alert alert-warning\">\r\n              {error[index].message}\r\n            </p>\r\n          ))}\r\n        <div className={style.headAddAdvir}>\r\n          <button className=\"btn btn-secondary\" onClick={handleSubmit}>\r\n            {loading ? (\r\n              <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n              </div>\r\n            ) : (\r\n              <>{direction === \"EN\" ? \"Add\" : \"اضافة\"}</>\r\n            )}\r\n          </button>\r\n          <button\r\n            className=\"btn btn-success\"\r\n            onClick={() => {\r\n              navigate(\"/dashboard/advertisements\");\r\n            }}\r\n          >\r\n            {direction === \"EN\" ? \"Back\" : \"   رجوع\"}\r\n          </button>\r\n        </div>\r\n        <div className={style.colladdAdvir}>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"image\">\r\n              {\" \"}\r\n              {direction === \"EN\" ? \"Enter image\" : \"ادخل صورة الاعلان \"}{\" \"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"image\"\r\n              id=\"image\"\r\n              accept=\"*/*\"\r\n              onChange={handleChangeImage}\r\n              required\r\n            />\r\n            {errorBackAdvir?.image && (\r\n              <p className=\"error\">{errorBackAdvir?.image}</p>\r\n            )}\r\n          </div>\r\n          {/* <div className={style.inp}>\r\n            <label htmlFor=\"text\">اسم الخدمة باللغة العربية</label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"title_ar\"\r\n              id=\"title_ar\"\r\n              onChange={handleChange}\r\n            />\r\n          </div> */}\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"text_ar\">\r\n              {direction === \"EN\"\r\n                ? \"Enter text Arabic\"\r\n                : \"ادخل النص باللغة العربية\"}{\" \"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"text_ar\"\r\n              id=\"text_ar\"\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"text_en\">\r\n              {\" \"}\r\n              {direction === \"EN\"\r\n                ? \"Enter text English\"\r\n                : \"اخل النص باللغة الانجليزية\"}{\" \"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"text\"\r\n              name=\"text_en\"\r\n              id=\"text_en\"\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"link\">\r\n              {\" \"}\r\n              {direction === \"EN\" ? \"Enter link\" : \"ادخل اللينك\"}\r\n            </label>\r\n            <br />\r\n            <input type=\"text\" name=\"link\" id=\"link\" onChange={handleChange} />\r\n            {errorBackAdvir?.link && (\r\n              <p className=\"error\">{errorBackAdvir?.link}</p>\r\n            )}\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"valid_from\">\r\n              {\" \"}\r\n              {direction === \"EN\" ? \"valid_from\" : \"صالح من تاريخ\"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"date\"\r\n              name=\"valid_from\"\r\n              id=\"valid_from\"\r\n              onChange={handleChange}\r\n            />\r\n            {errorBackAdvir?.valid_from && (\r\n              <p className=\"error\">{errorBackAdvir?.valid_from}</p>\r\n            )}\r\n          </div>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"valid_to\">\r\n              {\" \"}\r\n              {direction === \"EN\" ? \"valid_to\" : \"صالح الي تاريخ\"}\r\n            </label>\r\n            <br />\r\n            <input\r\n              type=\"date\"\r\n              name=\"valid_to\"\r\n              id=\"valid_to\"\r\n              onChange={handleChange}\r\n            />\r\n            {errorBackAdvir?.valid_to && (\r\n              <p className=\"error\">{errorBackAdvir?.valid_to}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AddAdvertisements","direction","useUser","navigate","useNavigate","addAdver","setAddAdver","useState","text","errorListSlider","setErrorListSlider","handleChange","e","prevState","target","name","value","imageChange","setImageChange","loading","setLoading","errorBackAdvir","setErrorBackAdvir","_jsx","className","style","AddAdvir","children","_jsxs","form","map","error","index","message","headAddAdvir","onClick","async","preventDefault","responseValidateSlider","Joi","required","text_ar","allow","text_en","link","valid_from","valid_to","validate","abortEarly","details","formData","FormData","append","response","fetch","method","headers","Authorization","concat","localStorage","getItem","body","result","json","console","log","created_at","role","_Fragment","colladdAdvir","inp","htmlFor","type","id","accept","onChange","files","image"],"sourceRoot":""}