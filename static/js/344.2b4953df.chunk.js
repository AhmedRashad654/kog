"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[344],{1344:(e,s,a)=>{a.r(s),a.d(s,{default:()=>r});var t=a(5043),l=a(3216),n=a(5475);const c={allallall:"JopsDash_allallall__07ZLP",alltable:"JopsDash_alltable__FVw-r",headJop:"JopsDash_headJop__39Wp0"};var o=a(9513),d=a(579);function r(){const e=(0,l.Zp)(),{direction:s,valueIdForm:a}=(0,o.J)(),[r,h]=(0,t.useState)([]),[i,p]=(0,t.useState)([]),[j,u]=(0,t.useState)(!1),[x,m]=(0,t.useState)(null);async function N(){try{let e=await fetch("https://kog.pythonanywhere.com/api/v1/home/forms/"),s=await e.json();h(s),p(s)}catch(e){console.log(e)}}(0,t.useEffect)((()=>{N()}),[]);return(0,d.jsxs)("div",{className:c.allallall,children:[(0,d.jsxs)("div",{className:c.headJop,children:[(0,d.jsx)(n.k2,{to:"/dashboard/addjops",className:"btn btn-secondary",children:"EN"===s?"Add Jop":" \u0623\u0636\u0627\u0641\u0629 \u0648\u0638\u064a\u0641\u0629"}),(0,d.jsx)("input",{type:"text",placeholder:"EN"===s?"search By Name":"\u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0627\u0633\u0645",className:"form-control",onChange:e=>{p(r.filter((s=>s.title.includes(e.target.value))))}})]}),(0,d.jsx)("div",{className:c.alltable,children:(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"EN"===s?"Jop Name":" \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"}),(0,d.jsx)("th",{children:"EN"===s?"created Date":"    \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u0634\u0627\u0621"}),(0,d.jsx)("th",{children:"EN"===s?"valid_to":"    \u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"}),(0,d.jsx)("th",{children:"EN"===s?"Response ":"     \u0631\u062f  "}),(0,d.jsx)("th",{children:"EN"===s?"Delete ":"     \u062d\u0630\u0641  "})]})}),(0,d.jsx)("tbody",{children:i.map(((t,l)=>(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{onClick:()=>{a(t.id),e("/dashboard/jops/displayquestionform")},children:[" ",t.title]}),(0,d.jsx)("td",{children:t.created_at}),(0,d.jsx)("td",{children:t.valid_to}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-secondary",onClick:()=>e("/dashboard/jops/responseuser"),children:"EN"===s?"Response ":"\u0631\u062f "})}),(0,d.jsx)("td",{children:(0,d.jsx)("button",{className:"btn btn-danger",onClick:()=>async function(e){try{u(!0),m(e),await fetch("https://kog.pythonanywhere.com/api/v1/home/forms/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))}}),u(!1),m(null),N()}catch(s){console.log(s)}}(t.id),children:j&&x===t.id?(0,d.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,d.jsx)("span",{className:"sr-only"})}):(0,d.jsx)(d.Fragment,{children:"EN"===s?"delete":"\u062d\u0630\u0641"})})})]},l)))})]})})]})}}}]);
//# sourceMappingURL=344.2b4953df.chunk.js.map