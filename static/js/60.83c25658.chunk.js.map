{"version":3,"file":"static/js/60.83c25658.chunk.js","mappings":"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","sources":["webpack://ju/./src/componantStyle/userDash.module.css?d6f8","pages/Dashboard/DashUser.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"allallall\":\"userDash_allallall__PHXPr\",\"headAllTable\":\"userDash_headAllTable__Y9Nzr\",\"firstuser\":\"userDash_firstuser__H7SWe\",\"alltable\":\"userDash_alltable__EoJwg\",\"inform\":\"userDash_inform__5VJsu\"};","import React, {  useState } from \"react\";\r\nimport style from \"../../componantStyle/userDash.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"../../index.css\";\r\nimport ScrollReveal from \"scrollreveal\";\r\nimport { useEffect } from \"react\";\r\nimport { useUser } from \"../../context/Context\";\r\nexport default function DashUser() {\r\n  // const { getAllUserDashboard } = useUser();\r\n  // let {userDashboaerd} = useUser()\r\n  const [userDashboaerd, setUserDashboard] = useState([]);\r\n  const [records, setRecords] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [deletingID, setDeletingID] = useState(null);\r\n  const [loadingDeactive, setloadingDeactive] = useState(false);\r\n  const [loadingActive, setloadingActive] = useState(false);\r\n  const [activeID, setActiveID] = useState(null);\r\n  const [deActiveID, setDeActiveID] = useState(null);\r\n  const { direction } = useUser();\r\n\r\n  ////////////scroll/////////////////\r\n  useEffect(() => {\r\n    const scrollRevealOption = {\r\n      distance: \"100px\",\r\n      origin: \"top\",\r\n      duration: 1000,\r\n    };\r\n    ScrollReveal().reveal(\"#ahmed\", { ...scrollRevealOption });\r\n  }, [] );\r\n  //////////get all user ////////////\r\n  async function getAllUserDashboard() {\r\n    try {\r\n      let request = await fetch(\r\n        \"https://kog.pythonanywhere.com/api/v1/accounts/users/\"\r\n      );\r\n      let response = await request.json();\r\n      setUserDashboard(response);\r\n      setRecords(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  /////////////get all user ///////////////////////\r\n  useEffect(() => {\r\n    getAllUserDashboard();\r\n  }, []);\r\n  ///////////////////start///////////////////\r\n\r\n\r\n  ////////////////function delete user //////////////////\r\n  async function deleteUser(id) {\r\n    try {\r\n      setLoading(true);\r\n      setDeletingID(id);\r\n      await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/accounts/users/${id}/`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n        }\r\n      );\r\n      setLoading(false);\r\n      setDeletingID(null);\r\n      getAllUserDashboard();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  //////////////function deactive user///////////////\r\n  async function deactiveUser(id) {\r\n    try {\r\n      setloadingDeactive(true);\r\n      setDeActiveID(id);\r\n      let request = await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/accounts/users/${id}/`,\r\n        {\r\n          method: \"PATCH\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n          body: JSON.stringify({ is_active: false }),\r\n        }\r\n      );\r\n      let response = await request.json();\r\n      setloadingDeactive(false);\r\n      setDeActiveID( null );\r\n      getAllUserDashboard();\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  ///////////active user/////////////////////\r\n  async function activeUser(id) {\r\n    try {\r\n      setloadingActive(true);\r\n      setActiveID(id);\r\n      let request = await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/accounts/users/${id}/`,\r\n        {\r\n          method: \"PATCH\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n          body: JSON.stringify({ is_active: true }),\r\n        }\r\n      );\r\n      let response = await request.json();\r\n      setloadingActive(false);\r\n      setActiveID( null );\r\n      getAllUserDashboard()\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  //////////////search by name//////////////\r\n  const Filter = (event) => {\r\n    setRecords(\r\n      userDashboaerd.filter(\r\n        ( f ) =>\r\n          \r\n          f.full_name.includes(event.target.value) ||\r\n          f.mobile.includes( event.target.value )\r\n          \r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      <div className={style.allallall}>\r\n        <div className={style.alltable} id=\"ahmed\">\r\n          <div className={style.headAllTable}>\r\n            <NavLink to=\"/dashboard/adduser\" className=\"btn btn-success\">\r\n              {direction === \"EN\" ? \"Add New\" : \"   أضافة جديد\"}\r\n            </NavLink>\r\n            <input\r\n              type=\"text\"\r\n              placeholder={`${\r\n                direction === \"EN\" ? \"search By Name or phone\" : \" بحث باستخدام الاسم او رقم الهاتف\"\r\n              }`}\r\n              className=\"form-control\"\r\n              onChange={Filter}\r\n            />\r\n          </div>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>{direction === \"EN\" ? \"Name\" : \"الاسم\"}</th>\r\n                <th>{direction === \"EN\" ? \"role\" : \"الدور\"}</th>\r\n                <th> {direction === \"EN\" ? \"Phone Nmuber\" : \"رقم الهاتف \"}</th>\r\n                <th>{direction === \"EN\" ? \"deactive\" : \"تعطيل\"}</th>\r\n                <th>{direction === \"EN\" ? \"delete\" : \"حذف\"}</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {records.map((userTr, index) => (\r\n                <tr key={index}>\r\n                  <td>{userTr.full_name}</td>\r\n                  <td>{userTr.role}</td>\r\n                  <td>{userTr.mobile}</td>\r\n                  <td>\r\n                    {userTr.is_active === true && (\r\n                      <button\r\n                        className=\"btn btn-warning\"\r\n                        onClick={() => deactiveUser(userTr.id)}\r\n                      >\r\n                        {loadingDeactive && deActiveID === userTr.id ? (\r\n                          <div\r\n                            className=\"spinner-border text-secondary\"\r\n                            role=\"status\"\r\n                          >\r\n                            <span className=\"sr-only\"></span>\r\n                          </div>\r\n                        ) : (\r\n                          <>{direction === \"EN\" ? \"deactive\" : \"تعطيل\"}</>\r\n                        )}\r\n                      </button>\r\n                    )}\r\n                    {userTr.is_active === false && (\r\n                      <button\r\n                        className=\"btn btn-success\"\r\n                        onClick={() => activeUser(userTr.id)}\r\n                      >\r\n                        {loadingActive && activeID === userTr.id ? (\r\n                          <div\r\n                            className=\"spinner-border text-secondary\"\r\n                            role=\"status\"\r\n                          >\r\n                            <span className=\"sr-only\"></span>\r\n                          </div>\r\n                        ) : (\r\n                          <>{direction === \"EN\" ? \"active\" : \"تفعيل\"}</>\r\n                        )}\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                  <td>\r\n                    <button\r\n                      className=\"btn btn-danger\"\r\n                      onClick={() => deleteUser(userTr.id)}\r\n                    >\r\n                      {loading && deletingID === userTr.id ? (\r\n                        <div\r\n                          className=\"spinner-border text-secondary\"\r\n                          role=\"status\"\r\n                        >\r\n                          <span className=\"sr-only\"></span>\r\n                        </div>\r\n                      ) : (\r\n                        <>{direction === \"EN\" ? \"delete\" : \"حذف\"}</>\r\n                      )}\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["DashUser","userDashboaerd","setUserDashboard","useState","records","setRecords","loading","setLoading","deletingID","setDeletingID","loadingDeactive","setloadingDeactive","loadingActive","setloadingActive","activeID","setActiveID","deActiveID","setDeActiveID","direction","useUser","async","getAllUserDashboard","request","fetch","response","json","error","console","log","useEffect","ScrollReveal","reveal","distance","origin","duration","_jsx","_Fragment","children","className","style","allallall","_jsxs","alltable","id","headAllTable","NavLink","to","type","placeholder","concat","onChange","event","filter","f","full_name","includes","target","value","mobile","map","userTr","index","role","is_active","onClick","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","deactiveUser","activeUser","deleteUser"],"sourceRoot":""}