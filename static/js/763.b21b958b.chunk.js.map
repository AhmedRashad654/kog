{"version":3,"file":"static/js/763.b21b958b.chunk.js","mappings":"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","sources":["webpack://ju/./src/componantStyle/JopsAdd.module.css?bf74","pages/Dashboard/JopsAdd.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"allSerAnm\":\"JopsAdd_allSerAnm__Yt6+S\",\"AddServices\":\"JopsAdd_AddServices__hj0RJ\",\"headAddJop\":\"JopsAdd_headAddJop__rD-0n\",\"inp\":\"JopsAdd_inp__TyqJH\"};","import React, { useState } from \"react\";\r\nimport style from \"../../componantStyle/JopsAdd.module.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useUser } from \"../../context/Context\";\r\nimport Joi from \"joi\";\r\nexport default function JopsAdd() {\r\n  const navigate = useNavigate();\r\n  const { direction } = useUser();\r\n  const [ jopAdd, setJopAdd ] = useState( {} );\r\n   const [errorListDashboard, setErrorListDashboard] = useState(null);\r\n   const [loading, setLoading] = useState(false);\r\n   const [errorDashboard, setErrorDashboard] = useState(null);\r\n   function handleChange(e) {\r\n     setJopAdd((prev) => ({\r\n       ...prev,\r\n       [e.target.name]: e.target.value,\r\n     }));\r\n   }\r\n   function validationJopAddDashboard() {\r\n     let schema = Joi.object({\r\n       title: Joi.string().required(),\r\n       valid_to: Joi.date().required(),\r\n     });\r\n     return schema.validate(jopAdd, { abortEarly: false });\r\n   }\r\n   async function handlesubmit(e) {\r\n     e.preventDefault();\r\n     let responseValidateJopAdd = validationJopAddDashboard();\r\n     if (responseValidateJopAdd.error) {\r\n       setErrorListDashboard([responseValidateJopAdd.error.details]);\r\n     } else {\r\n       setErrorListDashboard(null);\r\n       try {\r\n         setLoading(true);\r\n         const response = await fetch(\r\n           \"https://kog.pythonanywhere.com/api/v1/home/forms/\",\r\n           {\r\n             method: \"POST\",\r\n             headers: {\r\n               \"Content-Type\": \"application/json\",\r\n               Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n             },\r\n             body: JSON.stringify(jopAdd),\r\n           }\r\n         );\r\n         const result = await response.json();\r\n         setLoading(false);\r\n         if (result.created_at) {\r\n           navigate(\"/dashboard/jops\");\r\n         } else {\r\n           setErrorDashboard(result);\r\n         }\r\n       } catch (error) {\r\n         console.error(error);\r\n       }\r\n     }\r\n   }\r\n\r\n  return (\r\n    <div className={style.allSerAnm}>\r\n      <form className={style.AddServices}>\r\n        {errorListDashboard &&\r\n          errorListDashboard.map((error, index) => (\r\n            <p key={index} className=\"alert alert-warning\">\r\n              {error[index].message}\r\n            </p>\r\n          ))}\r\n        <div className={style.headAddJop}>\r\n          <button className=\"btn btn-secondary\" onClick={handlesubmit}>\r\n            {loading ? (\r\n              <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n              </div>\r\n            ) : (\r\n                <>{ direction === \"EN\" ? \"Add Jop\" : \"أضافة وظيفة\"} </>\r\n            )}\r\n          </button>\r\n          <button\r\n          \r\n            className=\"btn btn-secondary\"\r\n            onClick={() => {\r\n              navigate('/dashboard/jops');\r\n            }}\r\n          >\r\n            {direction === \"EN\" ? \"Back\" : \"   رجوع\"}\r\n          </button>\r\n        </div>\r\n        <div className={style.inp}>\r\n          <label htmlFor=\"title\">\r\n            {\" \"}\r\n            {direction === \"EN\" ? \"Enter Jop Name\" : \"ادخل اسم الوظيفة\"}\r\n          </label>\r\n          <br />\r\n          <input type=\"text\" name=\"title\" id=\"title\" onChange={handleChange} />\r\n          {errorDashboard?.title && (\r\n            <p className=\"error\">{errorDashboard?.title}</p>\r\n          )}\r\n        </div>\r\n        <div className={style.inp}>\r\n          <label htmlFor=\"valid_to\">\r\n            {\" \"}\r\n            {direction === \"EN\" ? \"valie_to\" : \"متاحة الي\"}\r\n          </label>\r\n          <br />\r\n          <input\r\n            type=\"date\"\r\n            name=\"valid_to\"\r\n            id=\"valid_to\"\r\n            onChange={handleChange}\r\n          />\r\n          {errorDashboard?.valid_to && (\r\n            <p className=\"error\">{errorDashboard?.valid_to}</p>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["JopsAdd","navigate","useNavigate","direction","useUser","jopAdd","setJopAdd","useState","errorListDashboard","setErrorListDashboard","loading","setLoading","errorDashboard","setErrorDashboard","handleChange","e","prev","target","name","value","_jsx","className","style","allSerAnm","children","_jsxs","AddServices","map","error","index","message","headAddJop","onClick","async","preventDefault","responseValidateJopAdd","Joi","title","required","valid_to","validate","abortEarly","details","response","fetch","method","headers","Authorization","concat","localStorage","getItem","body","JSON","stringify","result","json","created_at","console","role","_Fragment","inp","htmlFor","type","id","onChange"],"sourceRoot":""}