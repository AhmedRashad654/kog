"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[947],{6947:(e,a,r)=>{r.r(a),r.d(a,{default:()=>o});var n=r(5043);const s={AddPartner:"AddPartner_AddPartner__7pZq5",headAddPartner:"AddPartner_headAddPartner__5mO2N",inp:"AddPartner_inp__oM14I"};var t=r(3216),d=r(9513),c=r(579);function o(){const[e,a]=(0,n.useState)(""),[r,o]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),h=(0,t.Zp)(),{direction:m}=(0,d.J)();return(0,c.jsx)("div",{className:s.AddPartner,children:(0,c.jsxs)("form",{className:s.form,children:[(0,c.jsxs)("div",{className:s.headAddPartner,children:[(0,c.jsx)("button",{className:"btn btn-secondary",onClick:async function(a){a.preventDefault();const r=new FormData;r.append("image",e);try{i(!0);const e=await fetch("https://kog.pythonanywhere.com/api/v1/home/partners/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:r}),a=await e.json();console.log(a),i(!1),a.created_at?(h("/dashboard/partner"),console.log(a)):o(a)}catch(n){console.error(n)}},children:l?(0,c.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,c.jsx)("span",{className:"sr-only"})}):(0,c.jsx)(c.Fragment,{children:"EN"===m?"Add":"\u0627\u0636\u0627\u0641\u0629"})}),(0,c.jsx)("button",{className:"btn btn-success",onClick:()=>{h("/dashboard/partner")},children:"EN"===m?"Back":"   \u0631\u062c\u0648\u0639"})]}),(0,c.jsx)("div",{className:s.colladdPartner,children:(0,c.jsxs)("div",{className:s.inp,children:[(0,c.jsxs)("label",{htmlFor:"image",children:[" ","EN"===m?"Enter Partner":"\u0627\u062f\u062e\u0644 \u0627\u0644\u0628\u0627\u0631\u062a\u0646\u0631"," "]}),(0,c.jsx)("br",{}),(0,c.jsx)("input",{type:"file",name:"image",id:"image",accept:"*/*",onChange:function(e){a(e.target.files[0])},required:!0}),(null===r||void 0===r?void 0:r.image)&&(0,c.jsx)("p",{className:"error",children:null===r||void 0===r?void 0:r.image})]})})]})})}}}]);
//# sourceMappingURL=947.456f433d.chunk.js.map