"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[890],{1890:(e,i,s)=>{s.r(i),s.d(i,{default:()=>h});var t=s(5043);const r={collanimate:"AddServices_collanimate__Ae+Uf",AddQuestions:"AddServices_AddQuestions__i6haF",firstp:"AddServices_firstp__HjRwq",secondp:"AddServices_secondp__AMcF9",check:"AddServices_check__-Jpsk"},a={AddServices:"AddServicesEnglish_AddServices__sxrLR",headAddServices:"AddServicesEnglish_headAddServices__RAXFD",inp:"AddServicesEnglish_inp__QUh4S",inptextarea:"AddServicesEnglish_inptextarea__1SZSl",textarea:"AddServicesEnglish_textarea__fe+K2"};var n=s(3216),c=s(1694),d=s.n(c),l=s(9513),o=s(579);function p(){const e=(0,n.Zp)(),[i,s]=(0,t.useState)({title:"title",description:"description"}),[r,c]=(0,t.useState)("");const[p,h]=(0,t.useState)(null),[_,m]=(0,t.useState)(null),[x,u]=(0,t.useState)(!1),{direction:v}=(0,l.J)();function j(e){s((i=>({...i,[e.target.name]:e.target.value})))}return(0,o.jsxs)("form",{className:a.AddServices,encType:"multipart/form-data",children:[p&&p.map(((e,i)=>(0,o.jsx)("p",{className:"alert alert-warning",children:e[i].message},i))),(0,o.jsxs)("div",{className:a.headAddServices,children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:async function(s){s.preventDefault();let t=d().object({title:d().string().required(),description:d().string().required(),title_en:d().string().required(),description_en:d().string().required(),title_ar:d().string().required(),description_ar:d().string().required()}).validate(i,{abortEarly:!1});if(t.error)h([t.error.details]);else{h(null);const s=new FormData;s.append("title",i.title),s.append("title_en",i.title_en),s.append("description",i.description),s.append("description_en",i.description_en),s.append("description_ar",i.description_ar),s.append("title_ar",i.title_ar),s.append("image",r);try{u(!0);const i=await fetch("https://kog.pythonanywhere.com/api/v1/home/services/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:s}),t=await i.json();console.log(t),u(!1),t.created_at?e("/dashboard/servies"):m(t)}catch(a){console.error(a)}}},children:x?(0,o.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,o.jsx)("span",{className:"sr-only"})}):(0,o.jsxs)(o.Fragment,{children:[" ","EN"===v?"Add Service":"\u0627\u0636\u0627\u0641\u0629 \u062e\u062f\u0645\u0629"]})}),(0,o.jsx)("button",{className:"btn btn-success",onClick:()=>{e(-1)},children:"EN"===v?"Back":" \u0631\u062c\u0648\u0639"})]}),(0,o.jsxs)("div",{className:a.inp,children:[(0,o.jsxs)("label",{htmlFor:"image",children:[" ","EN"===v?"choose image":"\u0627\u062e\u062a\u0631 \u0635\u0648\u0631\u0629"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"file",name:"image",id:"image",accept:"*/*",onChange:function(e){c(e.target.files[0])},required:!0}),(null===_||void 0===_?void 0:_.image)&&(0,o.jsx)("p",{className:"error",children:null===_||void 0===_?void 0:_.image})]}),(0,o.jsxs)("div",{className:a.inp,children:[(0,o.jsxs)("label",{htmlFor:"title_ar",children:[" ","EN"===v?"name services Arabic":"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"title_ar",id:"title_ar",onChange:j})]}),(0,o.jsxs)("div",{className:a.inp,children:[(0,o.jsxs)("label",{htmlFor:"title_en",children:["EN"===v?"name services English":"\u0627\u0633\u0645 \u0627\u0644\u062e\u062f\u0645\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a\u0629"," "]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"title_en",id:"title_en",onChange:j})]}),(0,o.jsxs)("div",{className:a.inptextarea,children:[(0,o.jsxs)("label",{htmlFor:"description_ar",children:["EN"===v?"description service Arabic":"\u0648\u0635\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"," "]}),(0,o.jsx)("br",{}),(0,o.jsx)("textarea",{name:"description_ar",id:"description_ar",className:a.textarea,onChange:j})]}),(0,o.jsxs)("div",{className:a.inptextarea,children:[(0,o.jsxs)("label",{htmlFor:"description_en",children:["EN"===v?"description service English":"\u0648\u0635\u0641 \u0627\u0644\u062e\u062f\u0645\u0629 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a\u0629"," "]}),(0,o.jsx)("br",{}),(0,o.jsx)("textarea",{name:"description_en",id:"description_en",className:a.textarea,onChange:j})]})]})}function h(){return(0,o.jsx)("div",{className:r.collanimate,children:(0,o.jsx)(p,{})})}}}]);
//# sourceMappingURL=890.d9f237b7.chunk.js.map