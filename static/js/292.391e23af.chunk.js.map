{"version":3,"file":"static/js/292.391e23af.chunk.js","mappings":"mIACA,SAAgB,kBAAoB,6CAA6C,iBAAmB,4CAA4C,SAAW,oCAAoC,OAAS,kCAAkC,cAAgB,0C,2CCK3O,SAASA,IACtB,MAAM,UAAEC,IAAcC,EAAAA,EAAAA,MACdC,EAASC,IAAeC,EAAAA,EAAAA,WAAU,IAClCC,EAAYC,IAAkBF,EAAAA,EAAAA,WAAU,IACxCG,EAAmBC,IAAyBJ,EAAAA,EAAAA,UAAU,KACvDK,EAAQC,IAAcN,EAAAA,EAAAA,UAAS,IAYrCO,eAAeC,IACb,IACE,IAAIC,QAAgBC,MAClB,wDAEEC,QAAiBF,EAAQG,OAC7BR,EAAqBO,GACrBL,EAAWK,EACb,CAAE,MAAOE,GACPC,QAAQC,IAAIF,EACd,CACF,EArBDG,EAAAA,EAAAA,YAAU,MAMRC,EAAAA,EAAAA,KAAeC,OAAO,SAAU,CAJ9BC,SAAU,QACVC,OAAQ,MACRC,SAAU,KAE8C,GACzD,KAkBHL,EAAAA,EAAAA,YAAW,KACTR,GAAyB,GACxB,IAkCH,OACEc,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMhC,kBAAkB6B,SAAA,EACtCC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMC,iBAAkBC,GAAG,QAAOL,SAAA,EAChDF,EAAAA,EAAAA,KAACQ,EAAAA,GAAO,CAACC,GAAG,yBAAyBL,UAAU,kBAAiBF,SAC/C,OAAd5B,EAAqB,UAAY,iEAEpC0B,EAAAA,EAAAA,KAAA,SACEU,KAAK,OACLC,YACgB,OAAdrC,EAAqB,iBAAmB,qGAE1C8B,UAAU,eACVQ,SAtBOC,IACf7B,EACEH,EAAkBiC,QACfC,GACCA,EAAEC,SAASC,SAASJ,EAAMK,OAAOC,QACjCJ,EAAEK,SAASH,SAASJ,EAAMK,OAAOC,SAEtC,QAkBGnB,EAAAA,EAAAA,KAAA,OAAKI,UAAWC,EAAMgB,SAASnB,SAC5BnB,EAAQuC,KAAI,CAACC,EAAQC,KACpBrB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMoB,cAAcvB,SAAA,EAClCF,EAAAA,EAAAA,KAAA,OAAK0B,IAAKH,EAAOI,MAAOC,IAAI,MAC5B5B,EAAAA,EAAAA,KAAA,MAAII,UAAU,KAAIF,SACD,OAAd5B,EAAqBiD,EAAOP,SAAWO,EAAOH,YAEjDpB,EAAAA,EAAAA,KAAA,KAAAE,SACiB,OAAd5B,EACGiD,EAAOM,eACPN,EAAOO,kBAEb3B,EAAAA,EAAAA,MAAA,UACEC,UAAU,oBACV2B,QAASA,IA7DvB9C,eAA+BsB,GAC7B,IACE9B,GAAW,GACZG,EAAc2B,SACNnB,MAAM,uDAAD4C,OAC2CzB,EAAE,KACzD,CACE0B,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAADH,OAAYI,aAAaC,QAAQ,oBAIjD5D,GAAW,GACXG,EAAc,MACdM,GACH,CAAE,MAAQK,GACRC,QAAQC,IAAKF,EACf,CAEF,CAwC6B+C,CAAef,EAAOhB,IAAIL,SAAA,CAExC,IACA1B,GAAWG,IAAe4C,EAAOhB,IAChCP,EAAAA,EAAAA,KAAA,OAAKI,UAAU,gCAAgCmC,KAAK,SAAQrC,UAC1DF,EAAAA,EAAAA,KAAA,QAAMI,UAAU,eAGlBJ,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,SAAiB,OAAd5B,EAAqB,SAAW,4BApBCkD,WA6BtD,C","sources":["webpack://ju/./src/componantStyle/ServicesDashboard.module.css?9e08","pages/Dashboard/ServicesDashboard.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ServicesDashboard\":\"ServicesDashboard_ServicesDashboard__KkA++\",\"headServicesDash\":\"ServicesDashboard_headServicesDash__7CN2W\",\"alltable\":\"ServicesDashboard_alltable__v6Euy\",\"inform\":\"ServicesDashboard_inform__t1WLD\",\"firstServices\":\"ServicesDashboard_firstServices__e3fZB\"};","import React, { useEffect, useState } from \"react\";\r\nimport style from \"../../componantStyle/ServicesDashboard.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useUser } from \"../../context/Context\";\r\nimport '../../componantStyle/last.css'\r\nimport ScrollReveal from \"scrollreveal\";\r\nexport default function ServicesDashboard() {\r\n  const { direction } = useUser();\r\n  const [ loading, setLoading ] = useState( false );\r\n  const [ deletingID, setDeletingID ] = useState( false );\r\n  const [ servicesDashboaed, setServicesDashboard ] = useState( [] );\r\n  const [records,setRecords]  =useState([])\r\n  ///////////////\r\n  useEffect(() => {\r\n    const scrollRevealOption = {\r\n      distance: \"100px\",\r\n      origin: \"top\",\r\n      duration: 1000,\r\n    };\r\n    ScrollReveal().reveal(\"#ahmed\", { ...scrollRevealOption });\r\n  }, []);\r\n\r\n  ///////////////get Services /////////////\r\n   async function getAllServicesDashboard() {\r\n     try {\r\n       let request = await fetch(\r\n         \"https://kog.pythonanywhere.com/api/v1/home/services/\"\r\n       );\r\n       let response = await request.json();\r\n       setServicesDashboard(response);\r\n       setRecords(response);\r\n     } catch (error) {\r\n       console.log(error);\r\n     }\r\n   }\r\n\r\n\r\n  /////////////\r\n  useEffect( () => {\r\n    getAllServicesDashboard();\r\n  }, [ ] )\r\n  \r\n//////////////////////delete services////////////////////////////\r\n  async function deleteServices( id ) {\r\n    try {\r\n      setLoading(true);\r\n     setDeletingID(id);\r\n       await fetch(\r\n      `https://kog.pythonanywhere.com/api/v1/home/services/${id}/`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n        },\r\n      }\r\n      );\r\n       setLoading(false);\r\n       setDeletingID(null);\r\n       getAllServicesDashboard();\r\n    } catch ( error ) {\r\n      console.log( error );\r\n    }\r\n \r\n  }\r\n  const Filter = ( event ) => {\r\n    setRecords(\r\n      servicesDashboaed.filter(\r\n        (f) =>\r\n          f.title_en.includes(event.target.value) ||\r\n          f.title_ar.includes(event.target.value)\r\n      )\r\n    );\r\n  }\r\n  return (\r\n    <>\r\n      <div className={style.ServicesDashboard}>\r\n        <div className={style.headServicesDash} id=\"ahmed\">\r\n          <NavLink to=\"/dashboard/addservices\" className=\"btn btn-success\">\r\n            {direction === \"EN\" ? \"Add New\" : \"    أضافة جديد\"}\r\n          </NavLink>\r\n          <input\r\n            type=\"text\"\r\n            placeholder={\r\n              direction === \"EN\" ? \"search By name\" : \"بحث باستخدام الاسم\"\r\n            }\r\n            className=\"form-control\"\r\n            onChange={Filter}\r\n          />\r\n        </div>\r\n        <div className={style.alltable}>\r\n          {records.map((servic, index) => (\r\n            <div className={style.firstServices} key={index}>\r\n              <img src={servic.image} alt=\"\" />\r\n              <h4 className=\"h6\">\r\n                {direction === \"EN\" ? servic.title_en : servic.title_ar}\r\n              </h4>\r\n              <p>\r\n                {direction === \"EN\"\r\n                  ? servic.description_en\r\n                  : servic.description_ar}\r\n              </p>\r\n              <button\r\n                className=\"btn btn-secondary\"\r\n                onClick={() => deleteServices(servic.id)}\r\n              >\r\n                {\" \"}\r\n                {loading && deletingID === servic.id ? (\r\n                  <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                    <span className=\"sr-only\"></span>\r\n                  </div>\r\n                ) : (\r\n                  <>{direction === \"EN\" ? \"delete\" : \"حذف\"}</>\r\n                )}\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["ServicesDashboard","direction","useUser","loading","setLoading","useState","deletingID","setDeletingID","servicesDashboaed","setServicesDashboard","records","setRecords","async","getAllServicesDashboard","request","fetch","response","json","error","console","log","useEffect","ScrollReveal","reveal","distance","origin","duration","_jsx","_Fragment","children","_jsxs","className","style","headServicesDash","id","NavLink","to","type","placeholder","onChange","event","filter","f","title_en","includes","target","value","title_ar","alltable","map","servic","index","firstServices","src","image","alt","description_en","description_ar","onClick","concat","method","headers","Authorization","localStorage","getItem","deleteServices","role"],"sourceRoot":""}