"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[879],{2879:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var c=a(5043);const n={ContactDash:"Contact_ContactDash__H4HBK",headAllContact:"Contact_headAllContact__0DTVj",alltable:"Contact_alltable__U39Mi"};var s=a(5475),l=a(9513),o=a(579);function d(){const t=(0,c.useRef)(),{contact:e,getAllContact:a,direction:d}=(0,l.J)(),[r,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null);return(0,c.useEffect)((()=>{a()}),[a]),(0,o.jsxs)("div",{className:n.ContactDash,children:[(0,o.jsx)("div",{className:n.headAllContact,children:(0,o.jsx)(s.k2,{to:"/dashboard/addcontact",className:"btn btn-success",children:"\u0623\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f"})}),(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"\u0637\u0631\u064a\u0642\u0629 \u0627\u0644\u062a\u0648\u0627\u0635\u0644"}),(0,o.jsx)("th",{children:"\u0627\u0644\u0642\u064a\u0645\u0629"}),(0,o.jsx)("th",{children:"\u062d\u0630\u0641"})]})}),(0,o.jsx)("tbody",{ref:t,children:e.map(((t,e)=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:t.subject}),(0,o.jsx)("td",{children:t.body}),(0,o.jsx)("td",{children:(0,o.jsx)("button",{className:"btn btn-danger",onClick:()=>async function(t){try{h(!0),j(t),await fetch("https://kog.pythonanywhere.com/api/v1/home/contacts/".concat(t,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))}}),h(!1),j(null),a()}catch(e){console.log(e)}}(t.id),children:r&&i===t.id?(0,o.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,o.jsx)("span",{className:"sr-only"})}):(0,o.jsx)(o.Fragment,{children:"EN"===d?"delete":"\u062d\u0630\u0641"})})})]},e)))})]})]})}}}]);
//# sourceMappingURL=879.b8ec4d2d.chunk.js.map