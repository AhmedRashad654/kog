"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[763],{7763:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var s=t(5043);const n={allSerAnm:"JopsAdd_allSerAnm__Yt6+S",AddServices:"JopsAdd_AddServices__hj0RJ",headAddJop:"JopsAdd_headAddJop__rD-0n",inp:"JopsAdd_inp__TyqJH"};var l=t(3216),r=t(9513),d=t(1694),i=t.n(d),o=t(579);function c(){const e=(0,l.Zp)(),{direction:a}=(0,r.J)(),[t,d]=(0,s.useState)({}),[c,h]=(0,s.useState)(null),[p,u]=(0,s.useState)(!1),[m,v]=(0,s.useState)(null);function j(e){d((a=>({...a,[e.target.name]:e.target.value})))}return(0,o.jsx)("div",{className:n.allSerAnm,children:(0,o.jsxs)("form",{className:n.AddServices,children:[c&&c.map(((e,a)=>(0,o.jsx)("p",{className:"alert alert-warning",children:e[a].message},a))),(0,o.jsxs)("div",{className:n.headAddJop,children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:async function(a){a.preventDefault();let s=i().object({title:i().string().required(),valid_to:i().date().required()}).validate(t,{abortEarly:!1});if(s.error)h([s.error.details]);else{h(null);try{u(!0);const a=await fetch("https://kog.pythonanywhere.com/api/v1/home/forms/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:JSON.stringify(t)}),s=await a.json();u(!1),s.created_at?e("/dashboard/jops"):v(s)}catch(n){console.error(n)}}},children:p?(0,o.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,o.jsx)("span",{className:"sr-only"})}):(0,o.jsxs)(o.Fragment,{children:["EN"===a?"Add Jop":"\u0623\u0636\u0627\u0641\u0629 \u0648\u0638\u064a\u0641\u0629"," "]})}),(0,o.jsx)("button",{className:"btn btn-secondary",onClick:()=>{e("/dashboard/jops")},children:"EN"===a?"Back":"   \u0631\u062c\u0648\u0639"})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"title",children:[" ","EN"===a?"Enter Jop Name":"\u0627\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u0638\u064a\u0641\u0629"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"title",id:"title",onChange:j}),(null===m||void 0===m?void 0:m.title)&&(0,o.jsx)("p",{className:"error",children:null===m||void 0===m?void 0:m.title})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"valid_to",children:[" ","EN"===a?"valie_to":"\u0645\u062a\u0627\u062d\u0629 \u0627\u0644\u064a"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"date",name:"valid_to",id:"valid_to",onChange:j}),(null===m||void 0===m?void 0:m.valid_to)&&(0,o.jsx)("p",{className:"error",children:null===m||void 0===m?void 0:m.valid_to})]})]})})}}}]);
//# sourceMappingURL=763.b21b958b.chunk.js.map