"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[460],{5460:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});var i=a(5043);const n={AddAdvir:"AddAdvertisements_AddAdvir__kj+c5",headAddAdvir:"AddAdvertisements_headAddAdvir__01s3m",inp:"AddAdvertisements_inp__i-MyE"};var s=a(9513),d=a(3216),l=a(1694),r=a.n(l),o=a(579);function c(){const{direction:e}=(0,s.J)(),t=(0,d.Zp)(),[a,l]=(0,i.useState)({text:"text"}),[c,m]=(0,i.useState)(null);function v(e){l((t=>({...t,[e.target.name]:e.target.value})))}const[x,h]=(0,i.useState)(""),[p,u]=(0,i.useState)(!1),[j,_]=(0,i.useState)(null);return(0,o.jsx)("div",{className:n.AddAdvir,children:(0,o.jsxs)("form",{className:n.form,children:[c&&c.map(((e,t)=>(0,o.jsx)("p",{className:"alert alert-warning",children:e[t].message},t))),(0,o.jsxs)("div",{className:n.headAddAdvir,children:[(0,o.jsx)("button",{className:"btn btn-secondary",onClick:async function(e){e.preventDefault();let i=r().object({text:r().string().required(),text_ar:r().string().allow(""),text_en:r().string().allow(""),link:r().string().required(),valid_from:r().date().required(),valid_to:r().date().required()}).validate(a,{abortEarly:!1});if(i.error)m([i.error.details]);else{m(null);const e=new FormData;e.append("text",a.text),e.append("text_en",a.text_en),e.append("text_ar",a.text_ar),e.append("link",a.link),e.append("valid_from",a.valid_from),e.append("valid_to",a.valid_to),e.append("image",x);try{u(!0);const a=await fetch("https://kog.pythonanywhere.com/api/v1/home/sliders/",{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:e}),i=await a.json();console.log(i),u(!1),i.created_at?t("/dashboard/advertisements"):_(i)}catch(n){console.error(n)}}},children:p?(0,o.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,o.jsx)("span",{className:"sr-only"})}):(0,o.jsx)(o.Fragment,{children:"EN"===e?"Add":"\u0627\u0636\u0627\u0641\u0629"})}),(0,o.jsx)("button",{className:"btn btn-success",onClick:()=>{t("/dashboard/advertisements")},children:"EN"===e?"Back":"   \u0631\u062c\u0648\u0639"})]}),(0,o.jsxs)("div",{className:n.colladdAdvir,children:[(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"image",children:[" ","EN"===e?"Enter image":"\u0627\u062f\u062e\u0644 \u0635\u0648\u0631\u0629 \u0627\u0644\u0627\u0639\u0644\u0627\u0646 "," "]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"file",name:"image",id:"image",accept:"*/*",onChange:function(e){h(e.target.files[0])},required:!0}),(null===j||void 0===j?void 0:j.image)&&(0,o.jsx)("p",{className:"error",children:null===j||void 0===j?void 0:j.image})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"text_ar",children:["EN"===e?"Enter text Arabic":"\u0627\u062f\u062e\u0644 \u0627\u0644\u0646\u0635 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629"," "]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"text_ar",id:"text_ar",onChange:v})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"text_en",children:[" ","EN"===e?"Enter text English":"\u0627\u062e\u0644 \u0627\u0644\u0646\u0635 \u0628\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0627\u0646\u062c\u0644\u064a\u0632\u064a\u0629"," "]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"text_en",id:"text_en",onChange:v})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"link",children:[" ","EN"===e?"Enter link":"\u0627\u062f\u062e\u0644 \u0627\u0644\u0644\u064a\u0646\u0643"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"link",id:"link",onChange:v}),(null===j||void 0===j?void 0:j.link)&&(0,o.jsx)("p",{className:"error",children:null===j||void 0===j?void 0:j.link})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"valid_from",children:[" ","EN"===e?"valid_from":"\u0635\u0627\u0644\u062d \u0645\u0646 \u062a\u0627\u0631\u064a\u062e"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"date",name:"valid_from",id:"valid_from",onChange:v}),(null===j||void 0===j?void 0:j.valid_from)&&(0,o.jsx)("p",{className:"error",children:null===j||void 0===j?void 0:j.valid_from})]}),(0,o.jsxs)("div",{className:n.inp,children:[(0,o.jsxs)("label",{htmlFor:"valid_to",children:[" ","EN"===e?"valid_to":"\u0635\u0627\u0644\u062d \u0627\u0644\u064a \u062a\u0627\u0631\u064a\u062e"]}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"date",name:"valid_to",id:"valid_to",onChange:v}),(null===j||void 0===j?void 0:j.valid_to)&&(0,o.jsx)("p",{className:"error",children:null===j||void 0===j?void 0:j.valid_to})]})]})]})})}}}]);
//# sourceMappingURL=460.26b7b004.chunk.js.map