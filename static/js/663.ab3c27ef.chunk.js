"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[663],{2557:(e,s,n)=>{n.d(s,{A:()=>l});n(5043);var r=n(9513);const a={EnglishAndArabic:"EnglishAndArabic_EnglishAndArabic__BSBaP",activedir:"EnglishAndArabic_activedir__rOPYk"};var i=n(579);function l(){const{english:e,arabic:s,direction:n}=(0,r.J)();return(0,i.jsxs)("div",{className:a.EnglishAndArabic,children:[(0,i.jsx)("span",{onClick:()=>e(),className:"EN"===n?a.activedir:"",children:"EN"}),(0,i.jsx)("span",{onClick:()=>s(),className:"AR"===n?a.activedir:"",children:"AR"})]})}},2663:(e,s,n)=>{n.r(s),n.d(s,{default:()=>c});var r=n(5043),a=n(3216),i=n(1694),l=n.n(i),t=n(2557),d=n(9513),o=n(579);function c(){const e=(0,a.Zp)(),[s,n]=(0,r.useState)({gender:"N",role:"user"}),[i,c]=(0,r.useState)(null),[m,h]=(0,r.useState)(!1),[p,u]=(0,r.useState)(null),{direction:j}=(0,d.J)();function x(e){n((s=>({...s,[e.target.name]:e.target.value})))}return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.A,{}),(0,o.jsxs)("form",{className:"formRegister",onSubmit:async function(n){n.preventDefault();let r=l().object({full_name:l().string().max(240).required(),email_address:l().string().email({tlds:["com","not","org"]}).max(240).required(),city:l().string().max(240).required(),mobile:l().string().length(11).pattern(/^[0-9]+$/).required(),whatsapp:l().string().length(11).pattern(/^[0-9]+$/).required(),password:l().string().min(6).required(),password2:l().string().min(6).valid(l().ref("password")).required(),gender:l().string().valid("M","F","N"),role:l().string().required()}).validate(s,{abortEarly:!1});if(r.error)c([r.error.details]);else{c(null);try{h(!0);const n=await fetch("https://kog.pythonanywhere.com/api/v1/accounts/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await n.json();h(!1),r.tokens?e("/login"):u(r)}catch(p){console.error(p)}}},children:[i&&i.map(((e,s)=>(0,o.jsx)("p",{className:"alert alert-warning",children:e[s].message},s))),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"full_name",children:"EN"===j?"full_name":"\u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0643\u0627\u0645\u0644"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"text",name:"full_name",id:"name",onChange:x})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"email_address",children:"EN"===j?"email_address":"\u0627\u0644\u0627\u064a\u0645\u064a\u0644"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"email",name:"email_address",onChange:x}),(null===p||void 0===p?void 0:p.email_address)&&(0,o.jsx)("p",{className:"error",children:null===p||void 0===p?void 0:p.email_address})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"city",children:"EN"===j?"city":"\u0627\u0644\u0645\u062f\u064a\u0646\u0629"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"city",name:"city",onChange:x})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"mobile",children:"EN"===j?"mobile":"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",name:"mobile",id:"mobile",onChange:x}),(null===p||void 0===p?void 0:p.mobile)&&(0,o.jsx)("p",{className:"error",children:null===p||void 0===p?void 0:p.mobile})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"whatsapp",children:"EN"===j?"whatsapp":"\u0631\u0642\u0645 \u0627\u0644\u0648\u0627\u062a\u0633\u0627\u0628"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"number",name:"whatsapp",id:"whatsapp",onChange:x})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"password",children:"EN"===j?"password":"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"password",name:"password",id:"password",onChange:x})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"password2",children:"EN"===j?"Confirm Password":"\u062a\u0627\u0643\u064a\u062f \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"}),(0,o.jsx)("br",{}),(0,o.jsx)("input",{type:"password",name:"password2",id:"password2",onChange:x})]}),(0,o.jsxs)("div",{className:"inp",children:[(0,o.jsx)("label",{htmlFor:"gender",children:"EN"===j?"gender":"\u0627\u0644\u0646\u0648\u0639"}),(0,o.jsx)("br",{}),(0,o.jsxs)("select",{name:"gender",id:"gender",onChange:x,children:[(0,o.jsx)("option",{value:"N",children:"N"}),(0,o.jsx)("option",{value:"M",children:"M"}),(0,o.jsx)("option",{value:"F",children:"F"})]})]}),(0,o.jsx)("div",{className:"inp",children:(0,o.jsx)("button",{className:"btn btn-secondary",children:m?(0,o.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,o.jsx)("span",{className:"sr-only"})}):(0,o.jsxs)(o.Fragment,{children:[" ","EN"===j?"register":"\u062a\u0633\u062c\u064a\u0644"]})})})]})]})}}}]);
//# sourceMappingURL=663.ab3c27ef.chunk.js.map