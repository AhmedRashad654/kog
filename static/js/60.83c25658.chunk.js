"use strict";(self.webpackChunkju=self.webpackChunkju||[]).push([[60],{60:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(5043);const n={allallall:"userDash_allallall__PHXPr",headAllTable:"userDash_headAllTable__Y9Nzr",firstuser:"userDash_firstuser__H7SWe",alltable:"userDash_alltable__EoJwg",inform:"userDash_inform__5VJsu"};var l=s(5475),c=(s(9555),s(8666)),o=s(9513),r=s(579);function i(){const[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)([]),[d,h]=(0,a.useState)(!1),[u,j]=(0,a.useState)(null),[m,x]=(0,a.useState)(!1),[p,y]=(0,a.useState)(!1),[N,b]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),{direction:_}=(0,o.J)();async function v(){try{let e=await fetch("https://kog.pythonanywhere.com/api/v1/accounts/users/"),s=await e.json();t(s),i(s)}catch(e){console.log(e)}}(0,a.useEffect)((()=>{(0,c.A)().reveal("#ahmed",{distance:"100px",origin:"top",duration:1e3})}),[]),(0,a.useEffect)((()=>{v()}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:n.allallall,children:(0,r.jsxs)("div",{className:n.alltable,id:"ahmed",children:[(0,r.jsxs)("div",{className:n.headAllTable,children:[(0,r.jsx)(l.k2,{to:"/dashboard/adduser",className:"btn btn-success",children:"EN"===_?"Add New":"   \u0623\u0636\u0627\u0641\u0629 \u062c\u062f\u064a\u062f"}),(0,r.jsx)("input",{type:"text",placeholder:"".concat("EN"===_?"search By Name or phone":" \u0628\u062d\u062b \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0627\u0633\u0645 \u0627\u0648 \u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),className:"form-control",onChange:t=>{i(e.filter((e=>e.full_name.includes(t.target.value)||e.mobile.includes(t.target.value))))}})]}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"EN"===_?"Name":"\u0627\u0644\u0627\u0633\u0645"}),(0,r.jsx)("th",{children:"EN"===_?"role":"\u0627\u0644\u062f\u0648\u0631"}),(0,r.jsxs)("th",{children:[" ","EN"===_?"Phone Nmuber":"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641 "]}),(0,r.jsx)("th",{children:"EN"===_?"deactive":"\u062a\u0639\u0637\u064a\u0644"}),(0,r.jsx)("th",{children:"EN"===_?"delete":"\u062d\u0630\u0641"})]})}),(0,r.jsx)("tbody",{children:s.map(((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e.full_name}),(0,r.jsx)("td",{children:e.role}),(0,r.jsx)("td",{children:e.mobile}),(0,r.jsxs)("td",{children:[!0===e.is_active&&(0,r.jsx)("button",{className:"btn btn-warning",onClick:()=>async function(e){try{x(!0),f(e);let t=await fetch("https://kog.pythonanywhere.com/api/v1/accounts/users/".concat(e,"/"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:JSON.stringify({is_active:!1})}),s=await t.json();x(!1),f(null),v(),console.log(s)}catch(t){console.log(t)}}(e.id),children:m&&g===e.id?(0,r.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,r.jsx)("span",{className:"sr-only"})}):(0,r.jsx)(r.Fragment,{children:"EN"===_?"deactive":"\u062a\u0639\u0637\u064a\u0644"})}),!1===e.is_active&&(0,r.jsx)("button",{className:"btn btn-success",onClick:()=>async function(e){try{y(!0),b(e);let t=await fetch("https://kog.pythonanywhere.com/api/v1/accounts/users/".concat(e,"/"),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))},body:JSON.stringify({is_active:!0})}),s=await t.json();y(!1),b(null),v(),console.log(s)}catch(t){console.log(t)}}(e.id),children:p&&N===e.id?(0,r.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,r.jsx)("span",{className:"sr-only"})}):(0,r.jsx)(r.Fragment,{children:"EN"===_?"active":"\u062a\u0641\u0639\u064a\u0644"})})]}),(0,r.jsx)("td",{children:(0,r.jsx)("button",{className:"btn btn-danger",onClick:()=>async function(e){try{h(!0),j(e),await fetch("https://kog.pythonanywhere.com/api/v1/accounts/users/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token_access"))}}),h(!1),j(null),v()}catch(t){console.log(t)}}(e.id),children:d&&u===e.id?(0,r.jsx)("div",{className:"spinner-border text-secondary",role:"status",children:(0,r.jsx)("span",{className:"sr-only"})}):(0,r.jsx)(r.Fragment,{children:"EN"===_?"delete":"\u062d\u0630\u0641"})})})]},t)))})]})]})})})}}}]);
//# sourceMappingURL=60.83c25658.chunk.js.map