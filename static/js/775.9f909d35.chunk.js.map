{"version":3,"file":"static/js/775.9f909d35.chunk.js","mappings":"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","sources":["webpack://ju/./src/componantStyle/Advertisements.module.css?029a","pages/Dashboard/Advertisements.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Advertisements\":\"Advertisements_Advertisements__Qzfz9\",\"collAdvertisements\":\"Advertisements_collAdvertisements__+RKjc\",\"headAllAdvertisements\":\"Advertisements_headAllAdvertisements__2PTdk\",\"AdvertisementsDiv\":\"Advertisements_AdvertisementsDiv__nXvZZ\",\"underbottom\":\"Advertisements_underbottom__5VDWR\"};","import React, { useEffect, useState } from 'react'\r\nimport style from \"../../componantStyle/Advertisements.module.css\"\r\nimport { useUser } from '../../context/Context';\r\nimport { NavLink } from 'react-router-dom';\r\nexport default function Advertisements() {\r\n  const { direction } = useUser();\r\n  const { getAllSlider, allSlider } = useUser();\r\n  const [loading, setLoading] = useState(false);\r\n  const [deletingID, setDeletingID] = useState(null);\r\n  const [loadingDeactive, setloadingDeactive] = useState(false);\r\n  const [ deActiveID, setDeActiveID ] = useState( null );\r\n  const [ loadingActive, setloadingActive ] = useState( false );\r\n  const [ activeID, setActiveID ] = useState( null );\r\n  useEffect(() => {\r\n    getAllSlider();\r\n  }, [getAllSlider]);\r\n  ////////////function delete slider/////////////\r\n  async function deleteSlider(id) {\r\n    try {\r\n      setLoading(true);\r\n      setDeletingID(id);\r\n      let request = await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/home/sliders/${id}/`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n        }\r\n      );\r\n      await request.json();\r\n      setLoading(false);\r\n      setDeletingID(null);\r\n      getAllSlider();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  //////////////function deactive slider///////////////\r\n  async function deactiveSlider(id) {\r\n    try {\r\n      setloadingDeactive(true);\r\n      setDeActiveID(id);\r\n      let request = await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/home/sliders/${id}/`,\r\n        {\r\n          method: \"PATCH\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n          body: JSON.stringify({ active: false }),\r\n        }\r\n      );\r\n      let response = await request.json();\r\n      setloadingDeactive(false);\r\n      setDeActiveID(null);\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  ///////////active user/////////////////////\r\n  async function activeSlider(id) {\r\n    try {\r\n      setloadingActive(true);\r\n      setActiveID(id);\r\n      let request = await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/home/sliders/${id}/`,\r\n        {\r\n          method: \"PATCH\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n          body: JSON.stringify({ active: true }),\r\n        }\r\n      );\r\n      let response = await request.json();\r\n      setloadingActive(false);\r\n      setActiveID(null);\r\n      console.log(response);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  return (\r\n    <div className={style.Advertisements}>\r\n      <div className={style.headAllAdvertisements}>\r\n        <NavLink to=\"/dashboard/addadvertisements\" className=\"btn btn-success\">\r\n          {direction === \"EN\" ? \"Add New\" : \"أضافة جديد\"}\r\n        </NavLink>\r\n        {/* <input\r\n          type=\"text\"\r\n          placeholder=\"بحث باستخدام الاسم\"\r\n          className=\"form-control\"\r\n          // onChange={searchByName}\r\n        /> */}\r\n      </div>\r\n      <div className={style.collAdvertisements}>\r\n        {allSlider.map((slider, index) => (\r\n          <div className={style.AdvertisementsDiv} key={index}>\r\n            <img src={slider.image} alt=\"\" />\r\n            <p>{direction === \"EN\" ? slider.text_en : slider.text_ar}</p>\r\n            <div className={style.underbottom}>\r\n              <button\r\n                className=\"btn btn-danger\"\r\n                onClick={() => deleteSlider(slider.id)}\r\n              >\r\n                {loading && deletingID === slider.id ? (\r\n                  <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                    <span className=\"sr-only\"></span>\r\n                  </div>\r\n                ) : (\r\n                  <>{direction === \"EN\" ? \"delete\" : \"حذف\"}</>\r\n                )}\r\n              </button>\r\n\r\n              {slider.active === true && (\r\n                <button\r\n                  className=\"btn btn-warning\"\r\n                  onClick={() => deactiveSlider(slider.id)}\r\n                >\r\n                  {loadingDeactive && deActiveID === slider.id ? (\r\n                    <div\r\n                      className=\"spinner-border text-secondary\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\"></span>\r\n                    </div>\r\n                  ) : (\r\n                    \"تعطيل\"\r\n                  )}\r\n                </button>\r\n              )}\r\n              {slider.active === false && (\r\n                <button\r\n                  className=\"btn btn-success\"\r\n                  onClick={() => activeSlider(slider.id)}\r\n                >\r\n                  {loadingActive && activeID === slider.id ? (\r\n                    <div\r\n                      className=\"spinner-border text-secondary\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\"></span>\r\n                    </div>\r\n                  ) : (\r\n                    \"تفعيل\"\r\n                  )}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Advertisements","direction","useUser","getAllSlider","allSlider","loading","setLoading","useState","deletingID","setDeletingID","loadingDeactive","setloadingDeactive","deActiveID","setDeActiveID","loadingActive","setloadingActive","activeID","setActiveID","useEffect","_jsxs","className","style","children","_jsx","headAllAdvertisements","NavLink","to","collAdvertisements","map","slider","index","AdvertisementsDiv","src","image","alt","text_en","text_ar","underbottom","onClick","async","id","request","fetch","concat","method","headers","Authorization","localStorage","getItem","json","error","console","log","deleteSlider","role","_Fragment","active","body","JSON","stringify","response","deactiveSlider","activeSlider"],"sourceRoot":""}