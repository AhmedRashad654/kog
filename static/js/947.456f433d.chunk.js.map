{"version":3,"file":"static/js/947.456f433d.chunk.js","mappings":"mIACA,SAAgB,WAAa,+BAA+B,eAAiB,mCAAmC,IAAM,yB,iCCGvG,SAASA,IAEpB,MAAQC,EAAaC,IAAmBC,EAAAA,EAAAA,UAAU,KAC1CC,EAAkBC,IAAwBF,EAAAA,EAAAA,UAAU,OACpDG,EAASC,IAAeJ,EAAAA,EAAAA,WAAU,GACtCK,GAAWC,EAAAA,EAAAA,OACV,UAACC,IAAYC,EAAAA,EAAAA,KAoCpB,OACEC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAMd,WAAWe,UAC/BC,EAAAA,EAAAA,MAAA,QAAMH,UAAWC,EAAMG,KAAKF,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,OAAKH,UAAWC,EAAMI,eAAeH,SAAA,EACnCH,EAAAA,EAAAA,KAAA,UAAQC,UAAU,oBAAoBM,QAnC5CC,eAA4BC,GAC1BA,EAAEC,iBACA,MAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASxB,GACzB,IACEM,GAAW,GACX,MAAMmB,QAAiBC,MACrB,uDACA,CACEC,OAAQ,OACRC,QAAS,CACPC,cAAc,UAADC,OAAYC,aAAaC,QAAQ,kBAEhDC,KAAMX,IAGJY,QAAeT,EAASU,OAC9BC,QAAQC,IAAIH,GACZ5B,GAAW,GAEP4B,EAAOI,YACP/B,EAAU,sBACV6B,QAAQC,IAAKH,IAEf9B,EAAoB8B,EAExB,CAAE,MAAOK,GACPH,QAAQG,MAAMA,EAChB,CAEJ,EAKkEzB,SACzDT,GACCM,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gCAAgC4B,KAAK,SAAQ1B,UAC1DH,EAAAA,EAAAA,KAAA,QAAMC,UAAU,eAGlBD,EAAAA,EAAAA,KAAA8B,EAAAA,SAAA,CAAA3B,SAAiB,OAAdL,EAAqB,MAAQ,sCAGpCE,EAAAA,EAAAA,KAAA,UACEC,UAAU,kBACVM,QAASA,KACPX,EAAS,qBAAqB,EAC9BO,SAEa,OAAdL,EAAqB,OAAS,oCAGnCE,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAM6B,eAAe5B,UACnCC,EAAAA,EAAAA,MAAA,OAAKH,UAAWC,EAAM8B,IAAI7B,SAAA,EACxBC,EAAAA,EAAAA,MAAA,SAAO6B,QAAQ,QAAO9B,SAAA,CAAC,IAAc,OAAZL,EAAiB,gBAAgB,4EAAgB,QAC1EE,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,SACEkC,KAAK,OACLC,KAAK,QACLC,GAAG,QACHC,OAAO,MACPC,SAlEZ,SAA2B7B,GACzBnB,EAAemB,EAAE8B,OAAOC,MAAM,GAC9B,EAiEUC,UAAQ,KAEO,OAAhBjD,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBkD,SACjB1C,EAAAA,EAAAA,KAAA,KAAGC,UAAU,QAAOE,SAAkB,OAAhBX,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkBkD,iBAOtD,C","sources":["webpack://ju/./src/componantStyle/AddPartner.module.css?78f7","pages/Dashboard/AddPartner.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"AddPartner\":\"AddPartner_AddPartner__7pZq5\",\"headAddPartner\":\"AddPartner_headAddPartner__5mO2N\",\"inp\":\"AddPartner_inp__oM14I\"};","import React, { useState } from 'react'\r\nimport style from '../../componantStyle/AddPartner.module.css'\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useUser } from '../../context/Context';\r\nexport default function AddPartner() {\r\n      /////////handle image////////////////\r\n    const [ imageChange, setImageChange ] = useState( \"\" );\r\n    const [ errorBackPartner, setErrorBackPartner ] = useState( null )\r\n    const [ loading, setLoading ] = useState( false );\r\n  const navigate = useNavigate();\r\n   const {direction}= useUser()\r\n  function handleChangeImage(e) {\r\n    setImageChange(e.target.files[0]);\r\n    }\r\n    ///////////function Add Partner///////////////\r\n    async function handleSubmit(e) {\r\n      e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append(\"image\", imageChange);\r\n        try {\r\n          setLoading(true);\r\n          const response = await fetch(\r\n            \"https://kog.pythonanywhere.com/api/v1/home/partners/\",\r\n            {\r\n              method: \"POST\",\r\n              headers: {\r\n                Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n              },\r\n              body: formData,\r\n            }\r\n          );\r\n          const result = await response.json();\r\n          console.log(result);\r\n          setLoading(false);\r\n\r\n          if (result.created_at) {\r\n              navigate( \"/dashboard/partner\" );\r\n              console.log( result );\r\n          } else {\r\n            setErrorBackPartner(result);\r\n          }\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      \r\n    }\r\n  return (\r\n    <div className={style.AddPartner}>\r\n      <form className={style.form}>\r\n        <div className={style.headAddPartner}>\r\n          <button className=\"btn btn-secondary\" onClick={handleSubmit}>\r\n            {loading ? (\r\n              <div className=\"spinner-border text-secondary\" role=\"status\">\r\n                <span className=\"sr-only\"></span>\r\n              </div>\r\n            ) : (\r\n              <>{direction === \"EN\" ? \"Add\" : \"اضافة\"}</>\r\n            )}\r\n          </button>\r\n          <button\r\n            className=\"btn btn-success\"\r\n            onClick={() => {\r\n              navigate(\"/dashboard/partner\");\r\n            }}\r\n          >\r\n            {direction === \"EN\" ? \"Back\" : \"   رجوع\"}\r\n          </button>\r\n        </div>\r\n        <div className={style.colladdPartner}>\r\n          <div className={style.inp}>\r\n            <label htmlFor=\"image\"> {direction===\"EN\"?\"Enter Partner\":\"ادخل البارتنر\"} </label>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"image\"\r\n              id=\"image\"\r\n              accept=\"*/*\"\r\n              onChange={handleChangeImage}\r\n              required\r\n            />\r\n            {errorBackPartner?.image && (\r\n              <p className=\"error\">{errorBackPartner?.image}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AddPartner","imageChange","setImageChange","useState","errorBackPartner","setErrorBackPartner","loading","setLoading","navigate","useNavigate","direction","useUser","_jsx","className","style","children","_jsxs","form","headAddPartner","onClick","async","e","preventDefault","formData","FormData","append","response","fetch","method","headers","Authorization","concat","localStorage","getItem","body","result","json","console","log","created_at","error","role","_Fragment","colladdPartner","inp","htmlFor","type","name","id","accept","onChange","target","files","required","image"],"sourceRoot":""}