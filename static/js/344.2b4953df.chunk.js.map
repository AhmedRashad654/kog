{"version":3,"file":"static/js/344.2b4953df.chunk.js","mappings":"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","sources":["webpack://ju/./src/componantStyle/JopsDash.module.css?5e67","pages/Dashboard/JopsDash.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"allallall\":\"JopsDash_allallall__07ZLP\",\"alltable\":\"JopsDash_alltable__FVw-r\",\"headJop\":\"JopsDash_headJop__39Wp0\"};","import React, { useEffect,useState} from \"react\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport style from \"../../componantStyle/JopsDash.module.css\";\r\nimport { useUser } from \"../../context/Context\"\r\nexport default function JopsDash() {\r\n  const navigate = useNavigate();\r\n  const { direction, valueIdForm } = useUser();\r\n  const [ formAdmin, setFormAdmin ] = useState( [] );\r\n  const [ records, setRecords ] = useState( [] );\r\n  const [ loadingDelete, setLoadingDelete ] = useState( false );\r\n  const [deletingID,setDeletingID] = useState(null)\r\n  //////////////get form admin/////////////\r\n    async function getFormAdmin() {\r\n      try {\r\n        let request = await fetch(\r\n          \"https://kog.pythonanywhere.com/api/v1/home/forms/\"\r\n        );\r\n        let response = await request.json();\r\n        setFormAdmin( response );\r\n        setRecords(response)\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  useEffect(() => {\r\n    getFormAdmin();\r\n  }, [] );\r\n  ///////////delete Form////////////\r\n  async function deleteForm(id) {\r\n    try {\r\n         setLoadingDelete(true);\r\n         setDeletingID(id);\r\n       await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/home/forms/${id}/`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n        }\r\n      );\r\n      setLoadingDelete(false);\r\n      setDeletingID( null );\r\n      getFormAdmin()\r\n    } catch ( error ) {\r\n      console.log( error );\r\n    }\r\n  }\r\n  //////////search By Title/////////////\r\n  const Filter = ( event ) => {\r\n    setRecords( formAdmin.filter( f => f.title.includes( event.target.value ) ) );\r\n  }\r\n  return (\r\n    <div className={style.allallall}>\r\n      <div className={style.headJop}>\r\n        <NavLink to=\"/dashboard/addjops\" className=\"btn btn-secondary\">\r\n          {direction === \"EN\" ? \"Add Jop\" : \" أضافة وظيفة\"}\r\n        </NavLink>\r\n        <input\r\n          type=\"text\"\r\n          placeholder={\r\n            direction === \"EN\" ? \"search By Name\" : \"بحث باستخدام الاسم\"\r\n          }\r\n          className=\"form-control\"\r\n          onChange={Filter}\r\n        />\r\n      </div>\r\n      <div className={style.alltable}>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              {/* <th>id</th> */}\r\n              <th>{direction === \"EN\" ? \"Jop Name\" : \" اسم الوظيفة\"}</th>\r\n              <th>\r\n                {direction === \"EN\" ? \"created Date\" : \"    تاريخ الانشاء\"}\r\n              </th>\r\n              <th>{direction === \"EN\" ? \"valid_to\" : \"    تاريخ الانتهاء\"}</th>\r\n              <th>{direction === \"EN\" ? \"Response \" : \"     رد  \"}</th>\r\n              <th>{direction === \"EN\" ? \"Delete \" : \"     حذف  \"}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {records.map((form, index) => (\r\n              <tr key={index}>\r\n                {/* <td\r\n                  onClick={() => {\r\n                    valueIdForm(form.id);\r\n                    navigate(\"/dashboard/jops/displayquestionform\");\r\n                  }}\r\n                >\r\n                  {form.id}\r\n                </td> */}\r\n                <td\r\n                  onClick={() => {\r\n                    valueIdForm(form.id);\r\n                    navigate(\"/dashboard/jops/displayquestionform\");\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  {form.title}\r\n                </td>\r\n                <td>{form.created_at}</td>\r\n                <td>{form.valid_to}</td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={() => navigate(\"/dashboard/jops/responseuser\")}\r\n                  >\r\n                    {direction === \"EN\" ? \"Response \" : \"رد \"}\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    className=\"btn btn-danger\"\r\n                    onClick={() => deleteForm(form.id)}\r\n                  >\r\n                    {loadingDelete && deletingID === form.id ? (\r\n                      <div\r\n                        className=\"spinner-border text-secondary\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span className=\"sr-only\"></span>\r\n                      </div>\r\n                    ) : (\r\n                      <>{direction === \"EN\" ? \"delete\" : \"حذف\"}</>\r\n                    )}\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["JopsDash","navigate","useNavigate","direction","valueIdForm","useUser","formAdmin","setFormAdmin","useState","records","setRecords","loadingDelete","setLoadingDelete","deletingID","setDeletingID","async","getFormAdmin","request","fetch","response","json","error","console","log","useEffect","_jsxs","className","style","allallall","children","headJop","_jsx","NavLink","to","type","placeholder","onChange","event","filter","f","title","includes","target","value","alltable","map","form","index","onClick","id","created_at","valid_to","concat","method","headers","Authorization","localStorage","getItem","deleteForm","role","_Fragment"],"sourceRoot":""}