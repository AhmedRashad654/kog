{"version":3,"file":"static/js/879.b8ec4d2d.chunk.js","mappings":"mIACA,SAAgB,YAAc,6BAA6B,eAAiB,gCAAgC,SAAW,2B,iCCIxG,SAASA,IACtB,MAAMC,GAASC,EAAAA,EAAAA,WACP,QAAEC,EAAO,cAAEC,EAAa,UAAEC,IAAaC,EAAAA,EAAAA,MACrCC,EAASC,IAAeC,EAAAA,EAAAA,WAAU,IAClCC,EAAYC,IAAkBF,EAAAA,EAAAA,UAAU,MA0BlD,OAzBAG,EAAAA,EAAAA,YAAU,KACRR,GAAe,GACd,CAACA,KAwBFS,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAMf,YAAYgB,SAAA,EAChCC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAMG,eAAeF,UACnCC,EAAAA,EAAAA,KAACE,EAAAA,GAAO,CAACC,GAAG,wBAAwBN,UAAU,kBAAiBE,SAAC,+DAUlEH,EAAAA,EAAAA,MAAA,SAAAG,SAAA,EACEC,EAAAA,EAAAA,KAAA,SAAAD,UACEH,EAAAA,EAAAA,MAAA,MAAAG,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,+EACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,0CACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,6BAGRC,EAAAA,EAAAA,KAAA,SAAOI,IAAKpB,EAAOe,SAChBb,EAAQmB,KAAI,CAACC,EAAKC,KACjBX,EAAAA,EAAAA,MAAA,MAAAG,SAAA,EACEC,EAAAA,EAAAA,KAAA,MAAAD,SAAKO,EAAIE,WACTR,EAAAA,EAAAA,KAAA,MAAAD,SAAKO,EAAIG,QACTT,EAAAA,EAAAA,KAAA,MAAAD,UACEC,EAAAA,EAAAA,KAAA,UACEH,UAAU,iBACVa,QAASA,IAlDzBC,eAA6BC,GAC3B,IACErB,GAAW,GACXG,EAAckB,SACRC,MAAM,uDAADC,OAC8CF,EAAE,KACzD,CACEG,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,UAADH,OAAYI,aAAaC,QAAQ,oBAIpD5B,GAAW,GACXG,EAAc,MACdP,GACF,CAAE,MAAOiC,GACPC,QAAQC,IAAIF,EACd,CACF,CA8B+BG,CAAcjB,EAAIM,IAAIb,SAEpCT,GAAWG,IAAea,EAAIM,IAC7BZ,EAAAA,EAAAA,KAAA,OACEH,UAAU,gCACV2B,KAAK,SAAQzB,UAEbC,EAAAA,EAAAA,KAAA,QAAMH,UAAU,eAGlBG,EAAAA,EAAAA,KAAAyB,EAAAA,SAAA,CAAA1B,SAAiB,OAAdX,EAAqB,SAAW,6BAhBlCmB,YA0BrB,C","sources":["webpack://ju/./src/componantStyle/Contact.module.css?fe5c","pages/Dashboard/ContactDash.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"ContactDash\":\"Contact_ContactDash__H4HBK\",\"headAllContact\":\"Contact_headAllContact__0DTVj\",\"alltable\":\"Contact_alltable__U39Mi\"};","import React, { useEffect, useRef, useState } from \"react\";\r\nimport style from \"../../componantStyle/Contact.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useUser } from \"../../context/Context\";\r\n\r\nexport default function ContactDash() {\r\n  const trName = useRef();\r\n    const { contact, getAllContact ,direction} = useUser();\r\n    const [ loading, setLoading ] = useState( false )\r\n    const [ deletingID, setDeletingID ] = useState( null );\r\n  useEffect(() => {\r\n    getAllContact();\r\n  }, [getAllContact]);\r\n  ////////////////function delete contact //////////////////\r\n  async function deleteContact(id) {\r\n    try {\r\n      setLoading(true);\r\n      setDeletingID(id);\r\n      await fetch(\r\n        `https://kog.pythonanywhere.com/api/v1/home/contacts/${id}/`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token_access\")}`,\r\n          },\r\n        }\r\n      );\r\n      setLoading(false);\r\n      setDeletingID(null);\r\n      getAllContact();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n  return (\r\n    <div className={style.ContactDash}>\r\n      <div className={style.headAllContact}>\r\n        <NavLink to=\"/dashboard/addcontact\" className=\"btn btn-success\">\r\n          أضافة جديد\r\n        </NavLink>\r\n        {/* <input\r\n          type=\"text\"\r\n          placeholder=\"بحث باستخدام الاسم\"\r\n          className=\"form-control\"\r\n          //   onChange={searchByName}\r\n        /> */}\r\n      </div>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>طريقة التواصل</th>\r\n            <th>القيمة</th>\r\n            <th>حذف</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody ref={trName}>\r\n          {contact.map((con, index) => (\r\n            <tr key={index}>\r\n              <td>{con.subject}</td>\r\n              <td>{con.body}</td>\r\n              <td>\r\n                <button\r\n                  className=\"btn btn-danger\"\r\n                  onClick={() => deleteContact(con.id)}\r\n                >\r\n                  {loading && deletingID === con.id ? (\r\n                    <div\r\n                      className=\"spinner-border text-secondary\"\r\n                      role=\"status\"\r\n                    >\r\n                      <span className=\"sr-only\"></span>\r\n                    </div>\r\n                  ) : (\r\n                    <>{direction === \"EN\" ? \"delete\" : \"حذف\"}</>\r\n                  )}\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["ContactDash","trName","useRef","contact","getAllContact","direction","useUser","loading","setLoading","useState","deletingID","setDeletingID","useEffect","_jsxs","className","style","children","_jsx","headAllContact","NavLink","to","ref","map","con","index","subject","body","onClick","async","id","fetch","concat","method","headers","Authorization","localStorage","getItem","error","console","log","deleteContact","role","_Fragment"],"sourceRoot":""}